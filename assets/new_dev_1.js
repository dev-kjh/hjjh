var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(k){var b=0;return function(){return b<k.length?{done:!1,value:k[b++]}:{done:!0}}};$jscomp.arrayIterator=function(k){return{next:$jscomp.arrayIteratorImpl(k)}};$jscomp.makeIterator=function(k){var b="undefined"!=typeof Symbol&&Symbol.iterator&&k[Symbol.iterator];return b?b.call(k):$jscomp.arrayIterator(k)};var vpljq=jQuery;
(function(k){var b=function(){};b.test=document.createElement("div");b.isEmpty=function(n){return 0==n.replace(/^\s+|\s+$/g,"").length};b.strip=function(n){return n.replace(/^\s+|\s+$/g,"")};b.getUrlParameter=function(n){var y={};k.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(E,K,z){y[K]=z});return n?y[n]:y};b.rgbToHex=function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)?n:(n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===n.length?"#"+
("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):""};b.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};b.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|sony|BlackBerry/i.test(navigator.userAgent)};b.isIOS=function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)};b.isiPhoneIpod=function(){var n=navigator.userAgent;return-1<n.indexOf("iPhone")||-1<n.indexOf("iPod")};b.isChrome=
function(){return!!k.chrome&&!!k.chrome.webstore};b.isSafari=function(){return navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")};b.canPlayMp4=function(){var n=document.createElement("video");return!(!n.canPlayType||!n.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))};b.canPlayMp3=function(){var n=document.createElement("audio");return!(!n.canPlayType||!n.canPlayType("audio/mpeg;").replace(/no/,
""))};b.canPlayWav=function(){var n=document.createElement("audio");return!(!n.canPlayType||!n.canPlayType("audio/wav;").replace(/no/,""))};b.hasDownloadSupport=function(){return"download"in document.createElement("a")};b.hasLocalStorage=function(){try{return"localStorage"in k&&null!==k.localStorage}catch(n){return!1}};b.isAndroid=function(){return-1<navigator.userAgent.indexOf("Android")};b.volumeCanBeSet=function(){var n=document.createElement("audio");if(!n)return!1;n.volume=0;return 0==n.volume?
!0:!1};b.hasFullscreen=function(){return b.test.requestFullscreen||b.test.mozRequestFullScreen||b.test.msRequestFullscreen||b.test.oRequestFullscreen||b.test.webkitRequestFullScreen};b.relativePath=function(n){return/^(?:[a-z]+:)?\/\//i.test(n)};b.qualifyURL=function(n){var y=document.createElement("a");y.href=n;return y.href};b.supportsWebGL=function(){try{return!!k.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(n){return!1}};b.formatTime=function(n){n=
parseInt(n,10);var y=Math.floor(n/3600),E=Math.floor((n-3600*y)/60);n=n-3600*y-60*E;if(0<y)return 10>y&&(y="0"+y),10>E&&(E="0"+E),10>n&&(n="0"+n),y+":"+E+":"+n;10>E&&(E="0"+E);10>n&&(n="0"+n);return E+":"+n};b.toSeconds=function(n){n=n.split(/[\.:,]+/);return Number(3600*+n[0]+60*+n[1]+ +n[2])};b.keysrt=function(n,y,E){var K=1;E&&(K=-1);return n.sort(function(z,v){var I=z[y],r=v[y];return K*(I<r?-1:I>r?1:0)})};b.regroupArray=function(n){return n.reduce(function(y,E){var K=E.value,z=$jscomp.makeIterator(E.key.split("-"));
z.next();var v=z.next().value,I=z.next().value;y[v]=y[v]||[];K.forEach(function(r,ba){return(y[v][ba]=y[v][ba]||{})[I]=r});return y},[])};b.getElementOffsetTop=function(n){n=n.getBoundingClientRect();var y=document.body,E=document.documentElement;return Math.round(n.bottom-100+(k.pageYOffset||E.scrollTop||y.scrollTop)-(E.clientTop||y.clientTop||0))};b.getViewportSize=function(n){return n?{w:k.innerWidth,h:k.innerHeight}:{w:document.documentElement.clientWidth||k.innerWidth,h:document.documentElement.clientHeight||
k.innerHeight}};b.isScrolledIntoView=function(n){n=n.getBoundingClientRect();var y=n.bottom;return 0<=n.top+n.height/2&&y-n.height/2<=k.innerHeight};b.getScrollTop=function(n){n=document.documentElement;return(k.pageYOffset||n.scrollTop)-(n.clientTop||0)};k.VPLUtils=b})(window);
(function(k,b){k.VPLPlaylistManager=function(n){function y(){var A=v,W=[],Ia=[],ca;for(ca=0;ca<A;ca++)W[ca]=ca;for(ca=0;ca<A;ca++){var Sb=Math.round(Math.random()*(W.length-1));Ia[ca]=W[Sb];W.splice(Sb,1)}X=Ia}var E=this,K=n.loopingOn,z=n.randomPlay,v,I=!1,r=-1,ba,ea,ua=!1,X=[],gb=!1;this.setCounter=function(A,W){"undefined"===typeof W&&(W=!0);r=W?r+parseInt(A,10):parseInt(A,10);if(isNaN(r))alert("VPLPlaylistManager message: No active media, counter = "+r);else if(I=!1,K){if(z)if(r>v-1){r=X[v-1];
y();if(X[0]==r){var Ia=X.splice(0,1);X.push(Ia)}r=0;b(E).trigger("VPLPlaylistManager.PLAYLIST_END_ALERT")}else 0>r&&(r=X[0],y(),X[v-1]==r&&(Ia=X.splice(v-1,1),X.unshift(Ia)),r=v-1);else r>v-1?(r=0,b(E).trigger("VPLPlaylistManager.PLAYLIST_END_ALERT")):0>r&&(r=v-1);b(E).trigger("VPLPlaylistManager.COUNTER_READY")}else r>v-1?(r=v-1,I=!0):0>r&&(r=0),I?b(E).trigger("VPLPlaylistManager.PLAYLIST_END"):b(E).trigger("VPLPlaylistManager.COUNTER_READY")};this.getCounter=function(){return z?gb?r:X[r]:r};this.advanceHandler=
function(A){gb=!1;ua?(ua=!1,ea+A>v-1?(r=v-1,b(E).trigger("VPLPlaylistManager.COUNTER_READY")):0>ea+A?(r=0,b(E).trigger("VPLPlaylistManager.COUNTER_READY")):setCounter(ea+A,!1)):E.setCounter(A)};this.processPlaylistRequest=function(A){gb=!1;z&&(gb=!0,ba=A,ua||(ea=r,ua=!0));E.setCounter(A,!1)};this.setPlaylistItems=function(A,W){"undefined"===typeof W&&(W=!0);W&&(r=-1);v=A;z&&y()};this.reSetCounter=function(A){"undefined"===typeof A?r=-1:(A=parseInt(A,10),v?(A>v-1?A=v-1:0>A&&(A=0),r=A):r=-1)};this.setRandom=
function(A){z=A;3>v&&(z=!1);z&&y();if(z){var W=X.length;for(A=0;A<W;A++)if(X[A]==r){if(0==A)break;A=X.splice(A,1);X.unshift(parseInt(A,10));break}r=0}else ua?(r=ba,ua=!1):r=X[r]};this.setLooping=function(A){K=A};this.getPosition=function(A){return X.indexOf(A)}}})(window,jQuery);
(function(k,b){function n(K,z,v,I){var r={},ba=v.width();v=v.height();I=y(z,I);z=I.width;I=I.height;var ea=(ba-0)/(v-0),ua=z/I;ua<ea?K?(r.width=(v-0)/I*z,r.height=v-0):(r.height=(ba-0)/z*I,r.width=ba-0):ua>ea?K?(r.height=(ba-0)/z*I,r.width=ba-0):(r.width=(v-0)/I*z,r.height=v-0):(r.width=ba-0,r.height=v-0);return r}function y(K,z){var v={};"video"==K?z[0].videoWidth&&z[0].videoHeight?(v.width=z[0].videoWidth,v.height=z[0].videoHeight):(v.width=640,v.height=360):"iframe"==K?z.sw&&z.sh?(v.width=z.sw,
v.height=z.sh):(v.width=640,v.height=360):"image"==K&&(v.width=z.width(),v.height=z.height());return v}var E=function(){};E.resizeMedia=function(K,z,v,I){var r,ba=v.width();var ea=v.height();0==z?r=y(K,I):1==z?r=n(!0,K,v,I):2==z&&(r=n(!1,K,v,I));K=parseInt((ba-r.width)/2,10);ea=parseInt((ea-r.height)/2,10);I.css({width:r.width+"px",height:r.height+"px",left:K+"px",top:ea+"px"})};k.VPLAspectRatio=E})(window,jQuery);
(function(k){k.fn.vpl=function(b){function n(){N.swipe({swipeLeft:function(a,c,d,f,l,p){if(!x)return!1;("audio"==e||"video"==e&&g.is360||"image"==e&&g.is360||"youtube"==e&&"chromeless"==b.youtubePlayerType&&!g.is360||"vimeo"==e&&"chromeless"==b.vimeoPlayerType&&!g.is360)&&oc()},swipeRight:function(a,c,d,f,l,p){if(!x)return!1;("audio"==e||"video"==e&&g.is360||"image"==e&&g.is360||"youtube"==e&&"chromeless"==b.youtubePlayerType&&!g.is360||"vimeo"==e&&"chromeless"==b.vimeoPlayerType&&!g.is360)&&ad()}})}
function y(){Ja.hasClass("vpl-holder-visible")&&Ja.css("display","none").removeClass("vpl-holder-visible");C.removeClass("vpl-holder-visible")&&(C.removeClass("vpl-holder-visible").css({display:"none",width:"auto",height:"auto"}),C.find(".vpl-settings-menu").css("display","none"),Ka.css("display","block"));La.hasClass("vpl-holder-visible")?(La.one("transitionend",function(){La.css("display","none");Tb=!1}).removeClass("vpl-holder-visible"),hb&&(w.playMedia(),hb=!1)):(Y&&(w.pauseMedia(),hb=!0),La.css("display",
"block"),setTimeout(function(){La.addClass("vpl-holder-visible");Tb=!0},20))}function E(){La.hasClass("vpl-holder-visible")&&La.css("display","none").removeClass("vpl-holder-visible");C.removeClass("vpl-holder-visible")&&(C.removeClass("vpl-holder-visible").css({display:"none",width:"auto",height:"auto"}),C.find(".vpl-settings-menu").css("display","none"),Ka.css("display","block"));Ja.hasClass("vpl-holder-visible")?(Ja.one("transitionend",function(){Ja.css("display","none");Ub=!1}).removeClass("vpl-holder-visible"),
hb&&(w.playMedia(),hb=!1)):(Y&&(w.pauseMedia(),hb=!0),Ja.css("display","block"),setTimeout(function(){Ja.addClass("vpl-holder-visible");Ub=!0},20))}function K(a){if("undefined"!==typeof a){if(yb&&1==a||!yb&&0==a)return!1;yb=!a}yb?pc.one("transitionend",function(){pc.css("display","none");yb=!1}).removeClass("vpl-holder-visible"):(pc.css("display","block"),setTimeout(function(){pc.addClass("vpl-holder-visible");yb=!0},20))}function z(a){a.preventDefault();if(!x)return!1;a=k(a.currentTarget);if(a.hasClass("vpl-playback-toggle")||
a.hasClass("vpl-big-play"))w.togglePlayback();else if(a.hasClass("vpl-info-toggle"))E();else if(a.hasClass("vpl-info-close"))E();else if(a.hasClass("vpl-share-close"))y();else if(a.hasClass("vpl-resume-continue"))K(!1),0==Ma||0!=B||oa||(oa=!0,B=Ma),O();else if(a.hasClass("vpl-resume-restart"))K(!1),0==Ma||0!=B||oa||(oa=!0,B=Ma),M=0,O();else if(a.hasClass("vpl-cc-toggle"))w.toggleSubtitle();else if(a.hasClass("vpl-pwd-confirm")){var c=qc.val();if(VPLUtils.isEmpty(c))alert(bd);else if("undefined"===
typeof md5){a=document.createElement("script");a.type="text/javascript";var d=VPLUtils.relativePath(b.md5_js)?b.md5_js:VPLUtils.qualifyURL(b.sourcePath+b.md5_js);a.src=d;a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(md5(c)!=g.pwd?alert(bd):(delete g.pwd,Xa.one("transitionend",function(){Xa.css("display","none")}).removeClass("vpl-holder-visible"),qc.val(""),zb?Ab():O()))};a.onerror=function(){alert("Error loading "+this.src)};d=document.getElementsByTagName("script")[0];
d.parentNode.insertBefore(a,d)}else md5(c)!=g.pwd?alert(bd):(delete g.pwd,Xa.one("transitionend",function(){Xa.css("display","none")}).removeClass("vpl-holder-visible"),qc.val(""),zb?Ab():O())}else if(a.hasClass("vpl-previous-toggle")){if(b.disableVideoSkip)return!1;ad()}else if(a.hasClass("vpl-next-toggle")){if(b.disableVideoSkip)return!1;oc()}else if(a.hasClass("vpl-rewind-toggle"))w.seek(0);else if(a.hasClass("vpl-skip-backward-toggle"))w.seekBackward();else if(a.hasClass("vpl-skip-forward-toggle"))w.seekForward();
else if(a.hasClass("vpl-share-toggle"))y();else if(a.hasClass("vpl-pip-toggle")){if(m)if(Dd)if(document.pictureInPictureElement)try{document.exitPictureInPicture()}catch(f){}else try{m.requestPictureInPicture()}catch(f){}else m.webkitSupportsPresentationMode&&"function"===typeof m.webkitSetPresentationMode&&m.webkitSetPresentationMode("picture-in-picture"===m.webkitPresentationMode?"inline":"picture-in-picture")}else if(a.hasClass("vpl-theater-toggle"))rc?(b.theaterElement&&k(b.theaterElement).removeClass(b.theaterElementClass),
k(w).trigger("beforeTheaterExit",{instance:w,instanceName:b.instanceName}),h.removeClass("vpl-theater"),Aa()):(b.theaterElement&&k(b.theaterElement).addClass(b.theaterElementClass),k(w).trigger("beforeTheaterEnter",{instance:w,instanceName:b.instanceName}),h.addClass("vpl-theater"),Aa(),setTimeout(function(){Aa()},250),Be&&(a=da.offset().top,k("html,body").animate({scrollTop:a},500))),rc=!rc;else if(a.hasClass("vpl-share-item")){if(!e)return!1;sc&&sc.share(a.attr("data-type").toLowerCase(),g,w.getCurrentMediaUrl())}}
function v(){rc=!1;h.removeClass("vpl-theater");b.theaterElement&&k(b.theaterElement).removeClass(b.theaterElementClass);cd=b.instanceName;var a=h[0];"normal"==Na&&k(w).trigger("fullscreenBeforeEnter",{instance:w,instanceName:b.instanceName});Ce?a.requestFullscreen?document.fullscreenElement?document.exitFullscreen():a.requestFullscreen():a.webkitRequestFullScreen?document.webkitIsFullScreen?document.webkitCancelFullScreen():a.webkitRequestFullScreen():a.msRequestFullscreen?document.msIsFullscreen||
document.msFullscreenElement?document.msExitFullscreen():a.msRequestFullscreen():a.mozRequestFullScreen&&(document.fullscreenElement||document.mozFullScreenElement?document.mozCancelFullScreen():a.mozRequestFullScreen()):"fullscreen"==Na?r():I();"onorientationchange"in window&&setTimeout(function(){Aa()},250)}function I(){Na="fullscreen";Ed.addClass("vpl-fs-overflow");h.addClass("vpl-fs");Ya.find(".vpl-btn-fullscreen").hide();Ya.find(".vpl-btn-normal").show();ib.hide();document.body.style.cursor=
"default";"custom"==b.rightClickContextMenu&&(tc.find(".vpl-context-fullscreen-enter").hide(),tc.find(".vpl-context-fullscreen-exit").show());k(w).trigger("fullscreenEnter",{instance:w,instanceName:b.instanceName})}function r(){Na="normal";Ed.removeClass("vpl-fs-overflow");h.removeClass("vpl-fs");Ya.find(".vpl-btn-fullscreen").show();Ya.find(".vpl-btn-normal").hide();ib.show();document.body.style.cursor="default";"custom"==b.rightClickContextMenu&&(tc.find(".vpl-context-fullscreen-enter").show(),
tc.find(".vpl-context-fullscreen-exit").hide());cd=null;k(w).trigger("fullscreenExit",{instance:w,instanceName:b.instanceName})}function ba(){e&&("youtube"==e&&"default"==b.youtubePlayerType||"vimeo"==e&&"default"==b.vimeoPlayerType||(jb=window.setTimeout(function(){Y&&(Oa.one("transitionend",function(){"fullscreen"==Na&&(document.body.style.cursor="none");Za=!0}).removeClass("vpl-player-controls-visible"),Q&&fa.removeClass("vpl-subtitle-visible"),J.hide())},b.idleTimeout)))}function ea(a){!e||"youtube"==
e&&"default"==b.youtubePlayerType||"vimeo"==e&&"default"==b.vimeoPlayerType||(jb&&clearTimeout(jb),R&&Za&&(dd&&clearTimeout(dd),dd=window.setTimeout(function(){Oa.one("transitionend",function(){"fullscreen"==Na&&(document.body.style.cursor="default");Za=!1}).addClass("vpl-player-controls-visible");Q&&fa.addClass("vpl-subtitle-visible")},50)),Y&&ba())}function ua(a){if(x){if(!uc){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();uc=!0;ka.on(Ba,
function(c){a:{if("touchmove"==c.type){if(c.originalEvent.touches&&c.originalEvent.touches.length)var d=c.originalEvent.touches;else if(c.originalEvent.changedTouches&&c.originalEvent.changedTouches.length)d=c.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=c;c.preventDefault();X(d)}}).on(Bb,function(c){a:if(uc){uc=!1;ka.off(Ba).off(Bb);if("touchend"==c.type){if(c.originalEvent.touches&&c.originalEvent.touches.length)var d=c.originalEvent.touches;else if(c.originalEvent.changedTouches&&
c.originalEvent.changedTouches.length)d=c.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=c;c.preventDefault();X(d)}})}return!1}}function X(a){a=a.pageX-vc.offset().left;0>a?a=0:a>Ca&&(a=Ca);var c=Math.max(0,Math.min(1,a/Ca));if("audio"==e)try{q&&(q.currentTime=c*q.duration)}catch(d){console.log(d)}else if("video"==e)try{m&&(m.currentTime=c*m.duration)}catch(d){console.log(d)}else"youtube"==e?t&&t.seekTo(c*t.getDuration()):"vimeo"==e&&("chromeless"==activeVimeoPlayerType&&
L.show(),u&&(0!=Pa?u.setCurrentTime(c*Pa).then(function(d){})["catch"](function(d){}):u.getDuration().then(function(d){u.setCurrentTime(c*d).then(function(f){})["catch"](function(f){})})));Y||wc(!0)}function gb(a){var c=a.pageX-vc.offset().left;if(!VPLUtils.isNumber(c))return!1;0>c?c=0:c>Ca&&(c=Ca);var d=Math.max(0,Math.min(1,c/Ca));if(!VPLUtils.isNumber(d))return!1;c=h[0].getBoundingClientRect();var f=Da[0].getBoundingClientRect();if("audio"==e)var l=q.duration;else"video"==e?l=m.duration:"youtube"==
e?l=t.getDuration():"vimeo"==e&&(l=Pa);if(g.previewSeek&&Qa.length){var p=l*d;VPLUtils.isNumber(l)&&De.html(VPLUtils.formatTime(p));d=Qa.length;for(l=0;l<d;l++){var D=Qa[l];var $a=D.start;var ab=D.end;if(p>=$a&&p<=ab){if(!Ra){D=D.url;var Ea=D.substr(D.lastIndexOf("=")+1).split(",");Ea="-"+Ea[0]+"px -"+Ea[1]+"px";Ra={};Ra.start=$a;Ra.end=ab;Ee.css({"background-image":"url("+D+")","background-position":Ea})}}else Ra&&(p<Ra.start||p>Ra.end)&&(Ra=null)}a=a.pageX-va.scrollLeft()-c.left-kb.outerWidth()/
2;p=f.top-c.top-kb.outerHeight()-10;0>a?a=0:a+kb.outerWidth()>h.width()&&(a=h.width()-kb.outerWidth());kb.css({left:parseInt(a,10)+"px",top:parseInt(p,10)+"px"}).show()}else a=a.pageX-va.scrollLeft()-c.left-J.outerWidth()/2,p=f.top-c.top-J.outerHeight(),0>a?a=0:a+J.outerWidth()>h.width()&&(a=h.width()-J.outerWidth()),J.css({left:parseInt(a,10)+"px",top:parseInt(p,10)+"px"}).show(),VPLUtils.isNumber(l)&&J.text(VPLUtils.formatTime(l*d)+" / "+VPLUtils.formatTime(l))}function A(a){if(x){if(!xc){if("touchstart"==
a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();xc=!0;ka.on(Ba,function(c){a:{if("touchmove"==c.type){if(c.originalEvent.touches&&c.originalEvent.touches.length)var d=c.originalEvent.touches;else if(c.originalEvent.changedTouches&&c.originalEvent.changedTouches.length)d=c.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=c;c.preventDefault();Ia(d)}}).on(Bb,function(c){a:if(xc){xc=!1;ka.off(Ba).off(Bb);if("touchend"==c.type){if(c.originalEvent.touches&&
c.originalEvent.touches.length)var d=c.originalEvent.touches;else if(c.originalEvent.changedTouches&&c.originalEvent.changedTouches.length)d=c.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=c;c.preventDefault();Ia(d)}})}return!1}}function W(){if(!x)return!1;0<B?(ed=B,B=0):B=ed;ca()}function Ia(a){lb?B=Math.max(0,Math.min(1,(a.pageX-Cb.offset().left)/Db)):(B=Math.max(0,Math.min(1,(a.pageY-Cb.offset().top)/Db)),B=1-B);ca()}function ca(a){"undefined"!==typeof a&&(B=a);
"undefined"!==typeof B&&("audio"==e?q&&(q.volume=B):"video"==e?m&&(m.volume=B,m.muted=0==B?!0:!1):"youtube"==e?t&&(t.setVolume(100*B),0==B?t.mute():t.unMute()):"vimeo"==e&&u&&u.setVolume(B));Fe.css(lb?"width":"height",B*Db+"px");Vb.children().hide();0==B?Vb.find(".vpl-btn-volume-off").show():0<B&&.5>B?Vb.find(".vpl-btn-volume-down").show():.5<=B&&1>=B&&Vb.find(".vpl-btn-volume-up").show();0<B&&Eb&&(Eb.remove(),Eb=null)}function Sb(a){var c=lb?a.pageX-Cb.offset().left:a.pageY-Cb.offset().top;0>c?c=
0:c>Db&&(c=Db);c=Math.max(0,Math.min(1,c/Db));if(!VPLUtils.isNumber(c))return!1;lb||(c=1-c);c=parseInt(100*c,10);J.text(c+" %");var d=h[0].getBoundingClientRect(),f=pa[0].getBoundingClientRect();lb?(c=parseInt(a.pageX-va.scrollLeft()-d.left-J.outerWidth()/2),a=parseInt(f.top-d.top-J.outerHeight())):(c=parseInt(f.left-d.left-J.outerWidth()/2+pa.outerWidth()/2),a=parseInt(a.pageY-va.scrollTop()-d.top-J.outerHeight()-10));J.css({left:c+"px",top:a+"px"}).show()}function bb(){C.find(".vpl-settings-menu").css("display",
"none");var a=C.width(),c=C.height();C.css({width:"auto",height:"auto"});Ka.css("display","block");var d=Ka.width(),f=Ka.height();C.css({width:a+"px",height:c+"px"});setTimeout(function(){C.css({width:d+"px",height:f+"px"})},20)}function Ge(){if(k(this).hasClass("vpl-menu-active"))return b.closeSettingsMenuOnSelect?cb.click():bb(),!1;var a=k(this).attr("data-value");"audio"==e?q.playbackRate=Number(a):"video"==e?m.playbackRate=Number(a):"youtube"==e?t.setPlaybackRate(Number(a)):"vimeo"==e&&u.setPlaybackRate(Number(a)).then(function(c){})["catch"](function(c){console.log(c.name)});
g.playbackRate=a;b.closeSettingsMenuOnSelect?cb.click():bb()}function mb(a){yc&&yc.removeClass("vpl-menu-active");yc=Fd.find(".vpl-menu-item[data-value='"+a+"']").addClass("vpl-menu-active");C.find(".vpl-playback-rate-menu-value").text(yc.text())}function zc(a,c){var d,f=a.length;for(d=0;d<f;d++){var l=a[d];l.label?k("<li/>").addClass("vpl-menu-item").data("quality",l).attr("data-value",l.label).text(l.label).on("click",Gd).appendTo(Ac):k("<li/>").addClass("vpl-menu-item").attr("data-value",l).text(l).on("click",
Gd).appendTo(Ac)}c&&fd(c);Hd.removeClass("vpl-force-hide")}function Gd(){if(k(this).hasClass("vpl-menu-active"))return b.closeSettingsMenuOnSelect?cb.click():bb(),!1;Sa&&Sa.removeClass("vpl-menu-active");Sa=k(this).addClass("vpl-menu-active");var a=Sa.attr("data-value");g.quality=a;"audio"==e||"video"==e?(Bc=!0,Id(),gd(),O()):"youtube"==e&&t.setPlaybackQuality(a);C.find(".vpl-quality-menu-value").text(Sa.text());b.closeSettingsMenuOnSelect?cb.click():bb()}function fd(a){Sa&&Sa.removeClass("vpl-menu-active");
Sa=Ac.find(".vpl-menu-item[data-value='"+a+"']").addClass("vpl-menu-active");C.find(".vpl-quality-menu-value").text(Sa.text())}function Jd(){var a=k(this).attr("data-value");"hls"==ha&&(G.audioTrack=a);b.closeSettingsMenuOnSelect?cb.click():bb()}function Kd(){var a,c=g.subtitles.length,d;Wb&&localStorage.getItem(nb)&&(d=JSON.parse(localStorage.getItem(nb)));for(a=0;a<c;a++){var f=g.subtitles[a];k("<li/>").addClass("vpl-menu-item").attr({"data-value":f.value,"data-label":f.label}).text(f.label).on("click",
He).appendTo(Xb);if(d){if(d.active&&d.value==f.label)var l=f.label}else f["default"]&&(l=f.label)}l||(l=b.subtitleOffText);w.setSubtitle(l);Ld.removeClass("vpl-force-hide");ob.show()}function He(){if(k(this).hasClass("vpl-menu-active"))return b.closeSettingsMenuOnSelect?cb.click():bb(),!1;la&&la.removeClass("vpl-menu-active");la=k(this).addClass("vpl-menu-active");var a=la.attr("data-label");w.setSubtitle(a);b.closeSettingsMenuOnSelect?cb.click():bb()}function Ie(a){wa=[];var c=a.src;-1!=c.indexOf("ebsfm:")&&
(c=atob(c.substr(6)));k.ajax({url:c}).done(function(d){d=d.replace(/\r\n|\r|\n/g,"\n");d=VPLUtils.strip(d);d=d.split("\n\n");var f,l=0,p;for(f in d){var D=d[f].split("\n");if("WEBVTT"!=D&&2<=D.length&&"WEBVTT"!=D[0]){if(2<D.length){var $a=VPLUtils.strip(D[1].split(" --\x3e ")[0]);var ab=VPLUtils.strip(D[1].split(" --\x3e ")[1]);var Ea=D[2];if(3<D.length)for(p=3;p<D.length;p++)Ea+="\n"+D[p]}else $a=VPLUtils.strip(D[0].split(" --\x3e ")[0]),ab=VPLUtils.strip(D[0].split(" --\x3e ")[1]),Ea=D[1];wa[l]=
{};wa[l].start=VPLUtils.toSeconds($a);wa[l].end=VPLUtils.toSeconds(ab);wa[l].text=Ea;l++}}Cc[a.label]=wa;pb=!0;Yb=null;wc(!0)}).fail(function(d,f,l){console.log(d,f,l)})}function Je(){Qa=[];k.ajax({url:g.previewSeek}).done(function(a){a=a.replace(/\r\n|\r|\n/g,"\n");a=VPLUtils.strip(a);a=a.split("\n\n");var c,d=0;for(c in a){var f=a[c].split("\n");if("WEBVTT"!=f){if(2<=f.length){var l=VPLUtils.strip(f[0].split(" --\x3e ")[0]);var p=VPLUtils.strip(f[0].split(" --\x3e ")[1]);f=f[1];Qa[d]={};Qa[d].start=
VPLUtils.toSeconds(l);Qa[d].end=VPLUtils.toSeconds(p);Qa[d].url=f}d++}}}).fail(function(a,c,d){console.log(a,c,d)})}function gd(){Zb=[];if(Array.isArray(g.path)){var a,c=g.path.length;for(a=0;a<c;a++){var d=g.path[a];Zb.push(d);if(g.quality&&g.quality==d.label)var f=d;else d.active&&(f=d,delete d.active)}f||(f=g.path[0]);"audio"==e?Md&&f.wav?F=f.wav:Nd&&f.mp3&&(F=f.mp3):"video"==e&&Od&&f.mp4&&(F=f.mp4);g.quality=f.label}else"audio"==e?Md&&g.wav?F=g.wav:Nd&&g.mp3&&(F=g.mp3):"video"==e&&Od&&g.mp4&&
(F=g.mp4);F||console.log("No mediaPath set!")}function Ab(){T||(T=k('<div class="vpl-poster-holder"/>').appendTo(N));if("audio"==e)$b=!0,k(new Image).addClass("vpl-media").appendTo(T.empty().show()).on("load",function(){H=k(this);VPLAspectRatio.resizeMedia("image",b.aspectRatio,da,H);H.addClass("vpl-visible");b.displayPosterOnMobile||(U?O():P.show())}).on("error",function(a){console.log(a)}).attr({src:g.poster,alt:g.poster});else if("video"==e||"youtube"==e||"vimeo"==e)Oa.css("display","none").removeClass("vpl-player-controls-visible"),
$b=Za=!0,k(new Image).addClass("vpl-media").appendTo(T.empty().show()).on("load",function(){H=k(this);VPLAspectRatio.resizeMedia("image",b.aspectRatio,da,H);H.addClass("vpl-visible");L.hide();b.displayPosterOnMobile||P.show()}).on("error",function(a){console.log(a)}).attr({src:g.poster,alt:g.poster})}function O(){("audio"==e||"video"==e||"youtube"==e&&"chromeless"==b.youtubePlayerType&&U&&Pd||"vimeo"==e&&"chromeless"==b.vimeoPlayerType&&U&&Qd)&&L.show();if(g.is360){if("undefined"===typeof THREE){var a=
document.createElement("script");a.type="text/javascript";var c=VPLUtils.relativePath(b.three_js)?b.three_js:VPLUtils.qualifyURL(b.sourcePath+b.three_js);a.src=c;a.onload=a.onreadystatechange=function(){if(!this.readyState||"complete"==this.readyState)if("undefined"===typeof THREE.OrbitControls){var p=document.createElement("script");p.type="text/javascript";var D=VPLUtils.relativePath(b.orbitControls_js)?b.orbitControls_js:VPLUtils.qualifyURL(b.sourcePath+b.orbitControls_js);p.src=D;p.onload=p.onreadystatechange=
function(){this.readyState&&"complete"!=this.readyState||O()};p.onerror=function(){alert("Error loading "+this.src)};D=document.getElementsByTagName("script")[0];D.parentNode.insertBefore(p,D)}else O()};a.onerror=function(){alert("Error loading "+this.src)};c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c);return}if("undefined"===typeof THREE.OrbitControls){a=document.createElement("script");a.type="text/javascript";c=VPLUtils.relativePath(b.orbitControls_js)?b.orbitControls_js:
VPLUtils.qualifyURL(b.sourcePath+b.orbitControls_js);a.src=c;a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||O()};a.onerror=function(){alert("Error loading "+this.src)};c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c);return}}else if("hls"==ha){if(!Rd){"undefined"===typeof Hls?(a=document.createElement("script"),a.type="text/javascript",c=VPLUtils.relativePath(b.hls_js)?b.hls_js:VPLUtils.qualifyURL(b.sourcePath+b.hls_js),a.src=c,a.onload=
a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(Sd(),O())},a.onerror=function(){alert("Error loading "+this.src)},c=document.getElementsByTagName("script")[0],c.parentNode.insertBefore(a,c)):(Sd(),O());return}}else if("dash"==ha&&!Td){"undefined"===typeof dashjs?(a=document.createElement("script"),a.type="text/javascript",c=VPLUtils.relativePath(b.dash_js)?b.dash_js:VPLUtils.qualifyURL(b.sourcePath+b.dash_js),a.src=c,a.onload=a.onreadystatechange=function(){this.readyState&&
"complete"!=this.readyState||(Ud(),O())},a.onerror=function(){alert("Error loading "+this.src)},c=document.getElementsByTagName("script")[0],c.parentNode.insertBefore(a,c)):(Ud(),O());return}$b&&(M=g.start||0,$b=!1);if(void 0!=b.playbackPositionTime&&(M=b.playbackPositionTime,delete b.playbackPositionTime,b.useResumeScreen)){K();return}if("audio"==e)Vd||(qb=k(document.createElement("audio")).attr("settings.preload",b.preload),q=qb[0],Vd=!0),hd=!1,q.src=F,qb.on("ended",function(){rb()}).on("loadedmetadata",
function(){}).on("canplay",function(){if(!hd){hd=!0;g.playbackRate&&(q.playbackRate=Number(g.playbackRate));mb(q.playbackRate);M?q.currentTime=M:g.start&&(q.currentTime=g.start);if(U||null!=M){var p=q.play();void 0!==p&&p.then(function(){})["catch"](function(D){P.show();L.hide()})}else P.show(),L.hide();M=null;b.autoPlayInViewport&&!sb&&Dc()}}).on("play",function(){Ec()}).on("pause",function(){Fc()}).on("ratechange",function(){mb(q.playbackRate)}).on("error",function(p){k(w).trigger("mediaError",
{instance:w,instanceName:b.instanceName,counter:Z})}),U&&q.load();else if("video"==e){g.videoFrameTime&&(F+="#t="+g.videoFrameTime);id=!1;Wd?Fa.show():(Fa||(Fa=k('<div class="vpl-video-holder"/>').prependTo(N)),a=b.useMobileNativePlayer&&(a=""),a='<video class="vpl-media" tabindex="0"  preload="auto" settings.preload="'+b.preload+'"'+a+">",a+='<source src="'+F+'" />',a+="</video>",Fa.show().html(a));ma=Fa.find(".vpl-media");m=ma[0];Ga&&g.is360&&("file:"==window.location.protocol&&console.log("Playing 360 videos requires online server connection!"),
Xd||(db=new THREE.WebGLRenderer({antialias:!0}),db.setSize(640,360),db.domElement.className+="vpl-canvas-video vpl-media",N.prepend(k(db.domElement)),Ta=N.find(".vpl-canvas-video"),Fb=new THREE.Texture(m),Fb.minFilter=THREE.LinearFilter,Fb.magFilter=THREE.LinearFilter,Fb.format=THREE.RGBFormat,jd=new THREE.Scene,a=new THREE.SphereGeometry(500,60,40),a.scale(-1,1,1),c=new THREE.MeshBasicMaterial({map:Fb}),a=new THREE.Mesh(a,c),jd.add(a),Gc||(Gc=!0,V=new THREE.PerspectiveCamera(90,640/360,.1,1E4),V.position.x+=
.1,qa=new THREE.OrbitControls(V,N[0]),qa.enableZoom=!1),Xd=!0));ma.on("ended",function(){rb()}).on("loadedmetadata",function(){Ga&&g.is360||VPLAspectRatio.resizeMedia("video",b.aspectRatio,da,ma);ma.addClass("vpl-visible")}).on("canplay",function(){if(!id){id=!0;b.selectorInit&&!oa&&(B=Ma,oa=!0);ca();g.playbackRate&&(m.playbackRate=Number(g.playbackRate));mb(m.playbackRate);M?m.currentTime=M:g.start&&(m.currentTime=g.start);if(U||null!=M){var p=m.play();void 0!==p&&p.then(function(){})["catch"](function(D){P.show();
L.hide()})}else P.show(),L.hide();M=null;b.autoPlayInViewport&&!sb&&Dc();(Dd||m.webkitSupportsPresentationMode&&"function"===typeof m.webkitSetPresentationMode)&&Gb.show()}}).on("canplaythrough",function(){Ga&&g.is360||"hls"==ha&&VPLAspectRatio.resizeMedia("video",b.aspectRatio,da,ma)}).on("waiting",function(){L.show()}).on("playing",function(){L.hide()}).on("play",function(){Ec()}).on("pause",function(){Fc()}).on("seeking",function(){eb=!1;L.show()}).on("seeked",function(){L.hide();Ga&&g.is360&&
(eb=!0,xa=requestAnimationFrame(kd))}).on("ratechange",function(){mb(m.playbackRate)}).on("error",function(p){switch(p.target.error.code){case p.target.error.MEDIA_ERR_ABORTED:console.log("You aborted the video playback.");break;case p.target.error.MEDIA_ERR_NETWORK:console.log("A network error caused the video download to fail part-way.");break;case p.target.error.MEDIA_ERR_DECODE:console.log("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.");
break;case p.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:console.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");break;default:console.log("An unknown error occurred.")}});if("hls"==ha)if(Hc)G.attachMedia(m);else if(m.canPlayType("application/vnd.apple.mpegurl"))m.src=F;else if(g.mp4)m.src=g.mp4,m.load();else try{m.src=F,m.load()}catch(p){alert("This browser or device does not support HLS extension. Please use mp4 video for playback!")}else"dash"==
ha?Yd?Zd?aa.attachSource(F):(aa.initialize(m,F,U),Zd=!0):g.mp4?(m.src=g.mp4,m.load()):alert("This browser or device does not support MPEG-DASH extension. Please use mp4 video for playback!"):(m.src=F,m.load());Wd=!0}else if("image"==e)Ic||(Ic=k('<div class="vpl-image-holder"/>').prependTo(N).hide()),g.is360?("file:"==window.location.protocol&&console.log("Playing 360 video and images requires online server connection!"),$d||(ac=new THREE.Scene,a=new THREE.SphereBufferGeometry(500,60,40),a.scale(-1,
1,1),ld=new THREE.TextureLoader,md=new THREE.MeshBasicMaterial({map:ld}),ae=new THREE.Mesh(a,md),ac.add(ae),ya=new THREE.WebGLRenderer,ya.setPixelRatio(window.devicePixelRatio),ya.setSize(640,360),ya.domElement.className+="vpl-canvas-image vpl-media",N.prepend(k(ya.domElement)),bc=N.find(".vpl-canvas-image"),Gc||(Gc=!0,V=new THREE.PerspectiveCamera(90,640/360,.1,1E4),V.position.x+=.1,qa=new THREE.OrbitControls(V,N[0]),qa.enableZoom=!1),$d=!0),ld.load(F,function(p){bc.show();bc.addClass("vpl-visible");
md.map=p;p=N.width();var D=N.height();ya.setSize(p,D);V.aspect=p/D;V.updateProjectionMatrix();qa.addEventListener("change",Jc);ya.render(ac,V);Y=R=!0;Hb.show();nd=cc=!0;g.duration&&(Ua&&clearTimeout(Ua),Ua=setTimeout(function(){clearTimeout(this);Ub||Tb||rb()},1E3*g.duration))},function(p){},function(p){})):(L.show(),k(new Image).addClass("vpl-media").prependTo(Ic.show()).on("load",function(){L.hide();Ib=k(this);VPLAspectRatio.resizeMedia("image",b.aspectRatio,da,Ib);Ib.addClass("vpl-visible");Y=
R=!0;g.duration&&(Ua&&clearTimeout(Ua),Ua=setTimeout(function(){clearTimeout(this);Ub||Tb||rb()},1E3*g.duration))}).on("error",function(p){console.log(p)}).attr({src:F,alt:F})),Oa.css("display","block"),jb&&clearTimeout(jb),ea();else if("youtube"==e){if(be)od&&(a=0,M?a=M:g.start&&(a=g.start),U?t.loadVideoById({videoId:F,startSeconds:a,endSeconds:g.end,suggestedQuality:g.quality}):t.cueVideoById({videoId:F,startSeconds:a,endSeconds:g.end,suggestedQuality:g.quality}));else{var d="ytplayer"+Math.floor(16777215*
Math.random());Ha=k('<div class="vpl-youtube-holder"><div id="'+d+'" class="vpl-media vpl-emiframe"></div></div>').css("display","block").prependTo(N);var f={height:"100%",width:"100%",playerVars:{controls:"chromeless"==b.youtubePlayerType?0:1,modestbranding:1,playsinline:b.useMobileNativePlayer?0:1,rel:0,wmode:"transparent",iv_load_policy:3,cc_load_policy:0,showinfo:0,disablekb:1,color:b.youtubePlayerColor},videoId:F,events:{onReady:Ke,onPlaybackQualityChange:Le,onPlaybackRateChange:Me,onStateChange:Ne,
onError:Oe}};b.youtubeNoCookie&&(f.host="//www.youtube-nocookie.com/");a=window.location.href.split("/");a=a[0]+"//"+a[2];/^http/.test(a)&&(f.playerVars.origin=a);M?f.playerVars.start=M:g.start&&(f.playerVars.start=parseInt(g.start,10));g.end&&(f.playerVars.end=parseInt(g.end,10));window.YT||(c=document.createElement("script"),c.src=b.youtube_js,a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(c,a));var l=setInterval(function(){window.YT&&window.YT.Player&&(l&&clearInterval(l),
t=new YT.Player(d,f))},100);be=!0}Ha.show();b.forceYoutubeChromeless||("chromeless"==b.youtubePlayerType?2==b.aspectRatio&&g.width&&g.height&&(ia.sw=g.width,ia.sh=g.height,VPLAspectRatio.resizeMedia("iframe",b.aspectRatio,Ha,ia)):ia.css({width:"100%",height:"100%"}))}else"vimeo"==e&&(b.vimeoPlayerType="chromeless"==b.vimeoPlayerType?g.userAccount?"basic"==g.userAccount?"default":"chromeless":"chromeless":"default","default"==b.vimeoPlayerType?ce?(ra=dc,ja=ec,u=de,ee&&(ra.show(),u.loadVideo(F),setTimeout(function(){clearTimeout(this);
Kc()},500))):(dc||(dc=k('<div class="vpl-vimeo-holder-default"/>').prependTo(N)),ec=fe("0"),dc.show().append(ec),ra=dc,ja=ec,window.Vimeo||(c=document.createElement("script"),c.src=b.vimeo_js,a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(c,a)),l=setInterval(function(){window.Vimeo&&(l&&clearInterval(l),u=de=new Vimeo.Player(ec[0]),u.on("loaded",Kc),u.on("play",pd),u.on("pause",ge),u.on("ended",he),u.on("error",ie),ee=!0)},100),ce=!0):(je?(ra=fc,ja=gc,u=ke,le&&(ra.show(),u.loadVideo(F),
setTimeout(function(){clearTimeout(this);Kc()},500))):(fc||(fc=k('<div class="vpl-vimeo-holder-chromeless"/>').prependTo(N)),gc=fe("1"),fc.show().append(gc),ra=fc,ja=gc,window.Vimeo||(c=document.createElement("script"),c.src=b.vimeo_js,a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(c,a)),l=setInterval(function(){window.Vimeo&&(l&&clearInterval(l),u=ke=new Vimeo.Player(gc[0]),u.on("loaded",Kc),u.on("play",pd),u.on("pause",ge),u.on("ended",he),u.on("error",ie),u.on("seeking",
Pe),u.on("seeked",Qe),"chromeless"==b.vimeoPlayerType&&(u.on("playbackratechange",Re),u.on("timeupdate",Se)),le=!0)},100),je=!0),"chromeless"==b.vimeoPlayerType&&2==b.aspectRatio&&g.width&&g.height?(ja.sw=g.width,ja.sh=g.height,VPLAspectRatio.resizeMedia("iframe",b.aspectRatio,ra,ja)):ja.css({width:"100%",height:"100%"})));Bc||(g.subtitles&&Kd(),!Jb&&g.previewSeek&&Je(),g.description&&(me.html(g.description),hc.show()),Te&&g.download?Lc.show().find("a").attr("href",g.download).attr("download",""):
Lc.hide());"audio"==e||"video"==e||"youtube"==e&&"chromeless"==b.youtubePlayerType||"vimeo"==e&&"chromeless"==b.vimeoPlayerType?(g.liveStream?(tb.hide(),Kb.hide(),ub.hide(),Da.hide(),ne.show()):(tb.show(),Kb.show(),ub.show(),Da.show()),sa.show(),Mc.show(),Nc.show(),ic.show(),jc.show(),kc.show()):(sa.hide(),Mc.hide(),tb.hide(),Kb.hide(),ub.hide(),Da.hide(),Nc.hide(),ic.hide(),jc.hide(),kc.hide())}function Sd(){G=new Hls;Hc=Hls.isSupported();Rd=!0;Hc&&(G.subtitleDisplay=!1,G.subtitleTrack=-1,G.on(Hls.Events.MEDIA_ATTACHED,
function(){G.loadSource(F)}),G.on(Hls.Events.MANIFEST_PARSED,function(a,c){if(b.showStreamVideoBitrateMenu){var d=[],f,l=c.levels.length;for(f=0;f<l;f++){var p=c.levels[f];p.width&&d.push({label:p.width+"x"+p.height+", "+Math.ceil(Math.round(p.bitrate/1E3))+"kbps",value:f.toString()})}d.push({label:"auto",value:"-1",selected:!0});b.hideQualityMenuOnSingleQuality&&1==d.length||zc(d,"-1")}}),G.on(Hls.Events.MANIFEST_LOADED,function(a,c){}),G.on(Hls.Events.LEVEL_LOADED,function(a,c){}),G.on(Hls.Events.AUDIO_TRACKS_UPDATED,
function(a,c){if(b.showStreamAudioBitrateMenu){var d=G.audioTracks,f=d.length;if(1<f){var l;for(l=0;l<f;l++){var p=d[l];var D=p.groupId+" - "+p.name;p=p.id.toString();k("<li/>").addClass("vpl-menu-item").attr({"data-value":p,"data-label":D}).text(D).on("click",Jd).appendTo(Oc)}Pc=!0;oe.show();qd.removeClass("vpl-force-hide")}}}),G.on(Hls.Events.AUDIO_TRACK_SWITCHED,function(a,c){if(Pc){var d=c.id;Qc&&Qc.removeClass("vpl-menu-active");Qc=Oc.find(".vpl-menu-item[data-value='"+d+"']").addClass("vpl-menu-active");
C.find(".vpl-audio-language-menu-value").text(Qc.text())}}),G.on(Hls.Events.AUDIO_TRACK_LOADED,function(a,c){}),G.on(Hls.Events.SUBTITLE_TRACK_SWITCH,function(a,c){}),G.on(Hls.Events.SUBTITLE_TRACK_LOADED,function(a,c){}),G.on(Hls.Events.SUBTITLE_TRACKS_UPDATED,function(a){a=G.subtitleTracks.length;if(0<a&&!g.subtitles){var c;g.subtitles=[];for(c=0;c<a;c++){var d=G.subtitleTracks[c];var f=c.toString();f={label:d.name,value:f,src:d.url};d["default"]&&(f["default"]=!0);g.subtitles.push(f)}Kd()}}),G.on(Hls.Events.ERROR,
function(a,c){if(c.fatal)switch(c.type){case Hls.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover");G.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover");G.recoverMediaError();break;default:G.destroy()}}))}function Ud(){aa=dashjs.MediaPlayer().create();Td=!0;aa.setFastSwitchEnabled=!0;aa.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,function(a){if(b.showStreamVideoBitrateMenu){var c=aa.getBitrateInfoListFor("video"),
d=[],f=c.length;for(a=0;a<f;a++){var l=c[a];l.width&&d.push({label:l.width+"x"+l.height+", "+Math.ceil(Math.round(l.bitrate/1E3))+"kbps",value:l.qualityIndex.toString()})}d.push({label:"auto",value:"-1",selected:!0});b.hideQualityMenuOnSingleQuality&&1==d.length||zc(d,"-1")}if(b.showStreamAudioBitrateMenu&&(c=aa.getBitrateInfoListFor("audio"),f=c.length,1<f)){for(a=0;a<f;a++)l=c[a],d=Math.ceil(Math.round(l.bitrate/1E3))+"kbps",l=l.qualityIndex.toString(),k("<li/>").addClass("vpl-menu-item").attr({"data-value":l,
"data-label":d}).text(d).on("click",Jd).appendTo(Oc);Pc=!0;oe.show();qd.removeClass("vpl-force-hide")}});aa.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,function(a){});aa.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(a){});aa.on(dashjs.MediaPlayer.events.TRACK_CHANGE_RENDERED,function(a){});aa.on(dashjs.MediaPlayer.events.TEXT_TRACKS_ADDED,function(a){});aa.on(dashjs.MediaPlayer.events.ERROR,function(a){console.log("dashjs.MediaPlayer.events.ERROR "+a.error+" : "+a.event.message)});
aa.on(dashjs.MediaPlayer.events.PLAYBACK_ERROR,function(a){})}function Jc(){"image"==e&&g.is360&&ya.render(ac,V);cc&&(cc=!1,setTimeout(function(){clearTimeout(this);Hb.hide()},2E3))}function Ke(a){od=!0;ia||(ia=Ha.find(".vpl-emiframe"),"chromeless"==b.youtubePlayerType&&b.forceYoutubeChromeless&&ia.addClass("vpl-yt-clean"));ia.addClass("vpl-visible");b.selectorInit&&!oa&&(B=Ma,oa=!0);ca(0);U?t.playVideo():null!=M&&g.poster&&t.playVideo();b.autoPlayInViewport&&!sb&&Dc()}function Le(a){fd(a.data)}function Me(a){mb(a.data)}
function Ne(a){Ha.is(":visible")&&-1!=a.data&&(0==a.data?vb||(vb=!0,rb()):1==a.data?(rd||(vb=!1,M=null,g.quality&&t.setPlaybackQuality(g.quality),a=t.getAvailableQualityLevels(),b.hideQualityMenuOnSingleQuality&&1==a.length||zc(a,t.getPlaybackQuality()),g.playbackRate&&1!=g.playbackRate?t.setPlaybackRate(Number(g.playbackRate)):mb(1),b.blockYoutubeEvents&&(Rc||(Rc=k('<div class="vpl-iframe-blocker"></div>').appendTo(Ha))),rd=!0),Rc&&!g.is360&&Rc.css("display","block"),Ec(),Pd=!0):2==a.data?Fc():3==
a.data?ia.addClass("vpl-visible"):5==a.data&&(U||ia.addClass("vpl-visible")))}function Oe(a){switch(a.data){case 2:console.log("Error code = "+a.data+": The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.");break;case 100:console.log("Error code = "+a.data+": Video not found, removed, or marked as private");break;case 101:console.log("Error code = "+
a.data+": Embedding disabled for this video");break;case 150:console.log("Error code = "+a.data+": Video not found, removed, or marked as private [same as error 100]")}}function fe(a){var c=VPLUtils.rgbToHex(b.vimeoPlayerColor);"#"==c.charAt(0)&&(c=c.substr(1));var d="1";b.useMobileNativePlayer&&(d="0");var f=U?"1":"0",l="loop"==b.mediaEndAction?"1":"0",p="player"+Math.floor(16777215*Math.random());c="?color="+c;l="&loop="+l;d="&autoplay="+f;a="&background="+a;U&&(f=b.autoPlayInViewport?
"&autoplay=0":!0);-1<F.indexOf("/")&&(F=F.substr(0,F.indexOf("/")));c="https://player.vimeo.com/video/"+F+c+"&byline=1&portrait=1&title=1&autopause=1"+d+l+"&dnt=1"+a+"&speed=1&muted=0"+f;g.quality&&(c+="&quality="+g.quality);return k("<iframe/>",{id:p,frameborder:0,src:c,width:"100%",height:"100%",webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}).addClass("vpl-media")}function pd(){if(!sd){ja.addClass("vpl-visible");
if(g.start||M){var a=M?M:g.start;M=null;u.setCurrentTime(a).then(function(c){})["catch"](function(c){})}u.setPlaybackRate(g.playbackRate||1).then(function(c){})["catch"](function(c){});sd=!0}Ec();Qd=!0}function ge(){e&&"vimeo"!=e||Fc()}function Re(a){mb(a.playbackRate)}function Kc(){b.selectorInit&&!oa&&(B=Ma,oa=!0);ca();b.blockVimeoEvents="default"==b.vimeoPlayerType?!1:!0;b.blockVimeoEvents&&(Sc||(Sc=k('<div class="vpl-iframe-blocker"></div>').css("display","block").appendTo(ra)),g.is360?Sc.css("display",
"none"):Sc.css("display","block"));U||null!=M?u.play().then(function(){pd()})["catch"](function(a){"chromeless"==b.vimeoPlayerType&&(P.show(),L.hide())}):"chromeless"==b.vimeoPlayerType&&(P.show(),L.hide());ja.addClass("vpl-visible");b.autoPlayInViewport&&!sb&&Dc()}function Se(a){Pa=a.duration;Lb=a.seconds;Tc=a.percent}function he(){rb()}function Pe(){L.show()}function Qe(){L.hide()}function ie(a){console.log("Vimeo Player Error!",a)}function rb(){k(w).trigger("mediaEnd",{instance:w,instanceName:b.instanceName,
counter:Z});if("undefined"!==typeof g.endLink&&!VPLUtils.isEmpty(g.endLink))if("_blank"==g.endTarget)window.open(g.endLink);else{var a=g.endLink;wb();window.location=a;return}a=g.start||0;"loop"==b.mediaEndAction?"audio"==e?q&&(q.currentTime=a,q.play()):"video"==e?m&&(m.currentTime=a,m.play()):"youtube"==e?t&&(vb=!1,t.seekTo(a),t.playVideo()):"vimeo"==e&&u&&u.setCurrentTime(a):"rewind"==b.mediaEndAction?"audio"==e?q&&(q.currentTime=a,q.pause()):"video"==e?m&&(m.currentTime=a,m.pause()):"youtube"==
e?t&&(vb=!1,t.seekTo(a),t.pauseVideo()):"vimeo"==e&&u&&(u.pause(),u.setCurrentTime(a)):"next"==b.mediaEndAction?oc():"poster"==b.mediaEndAction&&("audio"==e?q&&(q.currentTime=a,q.pause()):"video"==e?(m&&(m.currentTime=a,m.pause()),g.poster&&(R=!1,Ga&&g.is360?Ta&&Ta.hide():Fa.hide(),Ab())):"youtube"==e?(t&&(vb=!1,t.seekTo(a),t.pauseVideo()),g.poster&&(R=!1,Ha.hide(),Ab())):"vimeo"==e&&(u&&(u.pause(),u.setCurrentTime(a)),g.poster&&(R=!1,ra.hide(),Ab())))}function wb(){eb=!1;xa&&cancelAnimationFrame(xa);
za&&clearInterval(za);va.off(td);T&&T.hide();H&&(H.remove(),H=null);N.find(".vpl-media").removeClass("vpl-visible");Hb.hide();cc=!1;qa&&(qa.removeEventListener("change",Jc),qa.reset());if("audio"==e)q&&(q.pause(),q.src=""),qb&&qb.off("ended canplay canplaythrough loadedmetadata pause play ratechange error");else if("video"==e){Hc&&"hls"==ha&&G.detachMedia();Yd&&"dash"==ha&&aa.attachSource(null);Ga&&g.is360&&Ta&&Ta.hide();if(m){m.pause();try{m.currentTime=0}catch(a){}m.src="";m=null}ma&&ma.off("loadedmetadata ended play pause playing waiting seeking seeked canplay canplaythrough ratechange error");
Fa&&Fa.hide()}else"image"==e?(Ua&&(clearTimeout(Ua),Ua=null),g.is360?(bc&&bc.hide(),nd=!1):(Ic.hide().find(".vpl-media").remove(),Ib=null)):"youtube"==e?(t&&(vb=!0,od&&t.stopVideo(),ia&&(ia,ia.sw=null,ia.sh=null)),rd=!1,Ha&&Ha.hide()):"vimeo"==e&&(Tc=Lb=Pa=0,u&&(u.unload().then(function(){})["catch"](function(a){console.log(a)}),ja&&(ja,ja.sw=null,ja.sh=null)),sd=!1,ra&&ra.hide());Xa.hide().removeClass("vpl-holder-visible");qc.val("");tb.html("00:00").hide();Kb.hide();ub.html("00:00").hide();Yb=null;
pe.hide();fa.empty();pb=!1;wa=[];Cc=[];la=Q=null;Xb.empty();Ld.addClass("vpl-force-hide");ob.hide();Ac.empty();Hd.addClass("vpl-force-hide");Oc.empty();qd.addClass("vpl-force-hide");hb=Pc=!1;F=null;Ja.css("display","none").removeClass("vpl-holder-visible");me.html("");hc.hide();Ub=!1;La.css("display","none").removeClass("vpl-holder-visible");Tb=!1;ne.hide();Gb.hide();C.removeClass("vpl-holder-visible").css({display:"none",width:"auto",height:"auto"});C.find(".vpl-settings-menu").css("display","none");
Ka.css("display","block");fb&&fb.hide();ha=e=null;Y=!1;g=null;R=!1;qe.width(0);re.width(0);L.hide();P.hide();sa.find(".vpl-btn-play").show();sa.find(".vpl-btn-pause").hide();Ra=null;Qa=[];kb.hide();ud=!1;Q&&fa.removeClass("vpl-subtitle-visible");J.hide();U||(Oa.css("display","none").removeClass("vpl-player-controls-visible"),Za=!0)}function Id(){eb=!1;xa&&cancelAnimationFrame(xa);za&&clearInterval(za);M=null;qa&&(qa.removeEventListener("change",Jc),qa.reset());if("audio"==e)q&&(M=q.currentTime,q.pause(),
q.src=""),qb&&qb.off("ended canplay canplaythrough loadedmetadata pause play ratechange error");else if("video"==e){Ga&&g.is360&&Ta&&Ta.hide();if(m){M=m.currentTime;m.pause();try{m.currentTime=0}catch(a){}m.src="";m=null}ma&&ma.off("loadedmetadata ended play pause playing waiting seeking seeked canplay canplaythrough ratechange error")}P.hide();R=Y=!1}function kd(){eb&&(ma.readyState===ma.HAVE_ENOUGH_DATA&&(Fb.needsUpdate=!0),db.render(jd,V),xa=requestAnimationFrame(kd))}function wc(a){if("undefined"!==
typeof a||Y){var c;if("audio"==e){if(q){var d=q.currentTime;var f=q.duration;if("undefined"!==typeof q.buffered&&0!=q.buffered.length){try{var l=q.buffered.end(q.buffered.length-1)}catch(Ue){}isNaN(l)||(c=l/f)}}}else if("video"==e){if(m&&(d=m.currentTime,f=m.duration,"undefined"!==typeof m.buffered&&0!=m.buffered.length)){try{l=m.buffered.end(m.buffered.length-1)}catch(Ue){}isNaN(l)||(c=l/Math.floor(f))}}else"youtube"==e?t&&(d=t.getCurrentTime(),f=t.getDuration(),c=t.getVideoLoadedFraction()):"vimeo"==
e&&(d=Lb,f=Pa,c=Tc);if(VPLUtils.isNumber(d)&&VPLUtils.isNumber(f)){a=d;1<c&&(c=1);if(a!=Yb){if(g.end&&d>=g.end){"loop"!=b.mediaEndAction&&"rewind"!=b.mediaEndAction&&(za&&clearInterval(za),eb=!1,xa&&cancelAnimationFrame(xa));rb();return}if(pb&&wa.length){var p=wa.length;for(l=0;l<p;l++){var D=wa[l];var $a=D.start;var ab=D.end;a>=$a&&a<=ab?Q||(Q=k('<div class="vpl-subtitle">'+D.text+"</div>"),Oa.hasClass("vpl-player-controls-visible")&&fa.addClass("vpl-subtitle-visible"),Q.start=$a,Q.end=ab,fa.append(Q)):
Q&&(a<Q.start||a>Q.end)&&(Q.remove(),Q=null)}}tb.html(VPLUtils.formatTime(a));ub.html(VPLUtils.formatTime(f))}qe.width(c*Ca);re.width(d/f*Ca);ud||(Ca=vc.width(),ud=!0);if(b.caption_breakPointArr&&!se&&Q){c=fa.width();p=b.caption_breakPointArr.length;for(l=0;l<p;l++)if(d=b.caption_breakPointArr[l],c>d.width)var Ea=d.size;fa.css("fontSize",Ea+"px");se=!0}Yb=a}}}function Ec(){L.hide();P.hide();sa.find(".vpl-btn-play").hide();sa.find(".vpl-btn-pause").show();b.showPosterOnPause&&H&&H.one("transitionend",
function(){Y&&T.hide()}).removeClass("vpl-visible");if(!R){R=!0;b.autoPlayAfterFirst&&(U=!0);if(!te&&(te=!0,Eb&&Eb.length&&0==B))Eb.addClass("vpl-unmute-toggle-visible").one("click touchend",function(){W()});b.minimizeOnScroll&&b.minimizeOnScrollOnlyIfPlaying&&vd();if(Ga&&g.is360){Fa.hide();Ta.show();Hb.show();cc=!0;qa.addEventListener("change",Jc);var a=N.width(),c=N.height();db.setSize(a,c);V.aspect=a/c;V.updateProjectionMatrix();Ta.addClass("vpl-visible");eb=!0;xa&&cancelAnimationFrame(xa);xa=
requestAnimationFrame(kd)}"youtube"==e&&"default"==b.youtubePlayerType||"vimeo"==e&&"default"==b.vimeoPlayerType?(Oa.css("display","none").removeClass("vpl-player-controls-visible"),document.body.style.cursor="default",Za=!0):Oa.css("display","block");k(w).trigger("mediaStart",{instance:w,instanceName:b.instanceName,counter:Z})}if(b.togglePlaybackOnMultipleInstances&&1<vpl_mediaArr.length)for(c=vpl_mediaArr.length,a=0;a<c;a++)w!=vpl_mediaArr[a].inst&&vpl_mediaArr[a].inst.pauseMedia();if("audio"==
e||"video"==e||"youtube"==e&&"chromeless"==b.youtubePlayerType||"vimeo"==e&&"chromeless"==b.vimeoPlayerType)za&&clearInterval(za),za=setInterval(wc,250);Y=!0;k(w).trigger("mediaPlay",{instance:w,instanceName:b.instanceName,counter:Z});jb&&clearTimeout(jb);ea()}function Fc(){za&&clearInterval(za);L.hide();("audio"==e||"video"==e||"youtube"==e&&"chromeless"==b.youtubePlayerType||"vimeo"==e&&"chromeless"==b.vimeoPlayerType)&&P.show();sa.find(".vpl-btn-play").show();sa.find(".vpl-btn-pause").hide();Y=
!1;b.showPosterOnPause&&H&&(T.show(),setTimeout(function(){H.addClass("vpl-visible")},20));k(w).trigger("mediaPause",{instance:w,instanceName:b.instanceName,counter:Z})}function oc(){x&&S.advanceHandler(1,!0)}function ad(){x&&S.advanceHandler(-1,!0)}function Aa(){if(!ue&&(ue=!0,0==h.width())){setTimeout(function(){0==h.width()&&console.log("Player width appears to be 0. Are you using this in a tab maybe where the parent container is hidden with css display none? If so, you need to initialize the player after its being shown in tab or call player.resize() API method so the player can correctly resize itself!");
Aa()},500);return}var a=VPLUtils.getViewportSize(Jb),c=h.width(),d=c/b.playerRatio;d>a.h&&(d=a.h);h.height(d);Ca=vc.width();e&&(H&&VPLAspectRatio.resizeMedia("image",b.aspectRatio,da,H),"video"==e?Ga&&g.is360?eb&&(c=N.width(),d=N.height(),db.setSize(c,d),V.aspect=c/d,V.updateProjectionMatrix()):ma&&VPLAspectRatio.resizeMedia("video",b.aspectRatio,Fa,ma):"image"==e?g.is360?nd&&(c=N.width(),d=N.height(),ya.setSize(c,d),V.aspect=c/d,V.updateProjectionMatrix(),ya.render(ac,V)):Ib&&VPLAspectRatio.resizeMedia("image",
b.aspectRatio,da,Ib):"youtube"==e?b.forceYoutubeChromeless||"chromeless"==b.youtubePlayerType&&2==b.aspectRatio&&g.width&&g.height&&VPLAspectRatio.resizeMedia("iframe",b.aspectRatio,Ha,ia):"vimeo"==e&&"chromeless"==b.vimeoPlayerType&&2==b.aspectRatio&&g.width&&g.height&&VPLAspectRatio.resizeMedia("iframe",b.aspectRatio,ra,ja));if(b.elementsVisibilityArr)for(d=b.elementsVisibilityArr.length,c=h.width(),a=0;a<d;a++){var f=b.elementsVisibilityArr[a];c<f.width?(-1==f.elements.indexOf("seekbar")&&Da.addClass("vpl-force-hide"),
-1==f.elements.indexOf("play")&&sa.addClass("vpl-force-hide"),-1==f.elements.indexOf("time")&&(tb.addClass("vpl-force-hide"),ub.addClass("vpl-force-hide"),Kb.addClass("vpl-force-hide")),-1==f.elements.indexOf("download")&&Lc.addClass("vpl-force-hide"),-1==f.elements.indexOf("pip")&&Gb.addClass("vpl-force-hide"),-1==f.elements.indexOf("cc")&&ob.addClass("vpl-force-hide"),-1==f.elements.indexOf("share")&&Uc.addClass("vpl-force-hide"),-1==f.elements.indexOf("info")&&hc.addClass("vpl-force-hide"),-1==
f.elements.indexOf("next")&&wd.addClass("vpl-force-hide"),-1==f.elements.indexOf("previous")&&xd.addClass("vpl-force-hide"),-1==f.elements.indexOf("rewind")&&kc.addClass("vpl-force-hide"),-1==f.elements.indexOf("skip_backward")&&ic.addClass("vpl-force-hide"),-1==f.elements.indexOf("skip_forward")&&jc.addClass("vpl-force-hide"),-1==f.elements.indexOf("volume")&&Mc.addClass("vpl-force-hide"),-1==f.elements.indexOf("volume_seekbar")&&pa.addClass("vpl-force-hide"),-1==f.elements.indexOf("fullscreen")&&
Ya.addClass("vpl-force-hide"),-1==f.elements.indexOf("theater")&&ib.addClass("vpl-force-hide"),-1==f.elements.indexOf("settings")&&Nc.addClass("vpl-force-hide")):(-1==f.elements.indexOf("seekbar")&&Da.removeClass("vpl-force-hide"),-1==f.elements.indexOf("play")&&sa.removeClass("vpl-force-hide"),-1==f.elements.indexOf("time")&&(tb.removeClass("vpl-force-hide"),ub.removeClass("vpl-force-hide"),Kb.removeClass("vpl-force-hide")),-1==f.elements.indexOf("download")&&Lc.removeClass("vpl-force-hide"),-1==
f.elements.indexOf("pip")&&Gb.removeClass("vpl-force-hide"),-1==f.elements.indexOf("cc")&&ob.removeClass("vpl-force-hide"),-1==f.elements.indexOf("share")&&Uc.removeClass("vpl-force-hide"),-1==f.elements.indexOf("info")&&hc.removeClass("vpl-force-hide"),-1==f.elements.indexOf("next")&&wd.removeClass("vpl-force-hide"),-1==f.elements.indexOf("previous")&&xd.removeClass("vpl-force-hide"),-1==f.elements.indexOf("rewind")&&kc.removeClass("vpl-force-hide"),-1==f.elements.indexOf("skip_backward")&&ic.removeClass("vpl-force-hide"),
-1==f.elements.indexOf("skip_forward")&&jc.removeClass("vpl-force-hide"),-1==f.elements.indexOf("volume")&&Mc.removeClass("vpl-force-hide"),-1==f.elements.indexOf("volume_seekbar")&&pa.removeClass("vpl-force-hide"),-1==f.elements.indexOf("fullscreen")&&Ya.removeClass("vpl-force-hide"),-1==f.elements.indexOf("theater")&&ib.removeClass("vpl-force-hide"),-1==f.elements.indexOf("settings")&&Nc.removeClass("vpl-force-hide"))}if(!b.keepCaptionFontSizeAfterManualResize&&b.caption_breakPointArr&&Q){c=fa.width();
d=b.caption_breakPointArr.length;for(a=0;a<d;a++)if(f=b.caption_breakPointArr[a],c>f.width)var l=f.size;fa.css("fontSize",l+"px")}C&&C.height()>da.height()-60&&C.css("maxHeight",da.height()-60).addClass("vpl-settings-holder-scrollable")}function Dc(){if(VPLUtils.isScrolledIntoView(h[0]))U=sb=!0,w.playMedia();else va.on(td,function(){Mb||(Mb=!0,VPLUtils.isScrolledIntoView(h[0])?(U=sb=!0,w.playMedia()):w.pauseMedia(),setTimeout(function(){Mb=!1},250))})}function vd(){VPLUtils.getScrollTop()>Ve?h.hasClass(b.minimizeClass)||
h.addClass(b.minimizeClass):h.hasClass(b.minimizeClass)&&h.removeClass(b.minimizeClass);Aa()}b=k.extend(!0,{},{vimeo_js:"https://player.vimeo.com/api/player.js",youtube_js:"https://www.youtube.com/iframe_api",hls_js:"https://cdn.jsdelivr.net/npm/hls.js@latest",dash_js:"https://cdn.dashjs.org/latest/dash.all.min.js",jquery_touchSwipe:"https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.19/jquery.touchSwipe.min.js",three_js:"https://cdnjs.cloudflare.com/ajax/libs/three.js/105/three.min.js",
orbitControls_js:"https://unpkg.com/three@0.85.0/examples/js/controls/OrbitControls.js",md5_js:"https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.10.0/js/md5.min.js",share_js:"/player/js/share_manager.js",sourcePath:"",instanceName:"",playerType:"normal",preload:"auto",autoPlay:!1,autoPlayAfterFirst:!1,autoPlayInViewport:!1,aspectRatio:2,mediaEndAction:"loop",volume:.5,useKeyboardNavigationForPlayback:!1,useMobileNativePlayer:!1,rightClickContextMenu:"custom",forceYoutubeChromeless:!1,blockYoutubeEvents:!0,
blockVimeoEvents:!0,hideQualityMenuOnSingleQuality:!0,displayPosterOnMobile:!1,subtitleOffText:"Disabled",idleTimeout:2E3,youtubePlayerType:"chromeless",vimeoPlayerType:"default",vimeoPlayerColor:"#00adef",minimizeClass:"vpl-minimize-br",minimizeOnScroll:!1,minimizeOnScrollOnlyIfPlaying:!1,playbackPositionKey:"vpl-playback-position",captionStateKey:"vpl-caption-state",playerRatio:1.7777777,youtubePlayerColor:"red",caption_breakPointArr:[{width:0,size:18},{width:480,size:20},{width:768,size:22},{width:1024,
size:24},{width:1280,size:36}],seekTime:10,showStreamVideoBitrateMenu:!1,showStreamAudioBitrateMenu:!1,closeSettingsMenuOnSelect:!1,lightboxCloseTooltip:"Close",clickOnBackgroundClosesLightbox:!0,skipPoster:!1,keepCaptionFontSizeAfterManualResize:!1,disableVideoSkip:!1,useResumeScreen:!1,playbackPositionTime:null,mediaId:null},b);var yd=VPLUtils.getUrlParameter(),xb=[],zd=[],Nb=[],Ob=[];Object.keys(yd).forEach(function(a){if(0==a.indexOf("vpl-")){var c=a.substr(4),d=c;a=decodeURIComponent(yd[a]).replace(/\+/g,
" ");-1==c.indexOf("path-")&&-1==c.indexOf("subtitle-")&&(d=c.replace(/-([a-z])/g,function(f){return f[1].toUpperCase()}));a&&(b.hasOwnProperty(d)?("true"===a?a=!0:"false"===a&&(a=!1),b[d]=a):(a=a.split(",").map(function(f){return f.trim()}),-1<d.indexOf("path-")?Nb.push({key:d,value:a}):-1<d.indexOf("subtitle-")?Ob.push({key:d,value:a}):xb.push({key:d,value:a})))}});Nb.length&&(Nb=VPLUtils.regroupArray(Nb),xb.push({key:"path",value:Nb}));Ob.length&&(Ob=VPLUtils.regroupArray(Ob),xb.push({key:"subtitles",
value:Ob}));Ob=Nb=null;if(xb.length){var ta,Vc,Ad=xb.length,We=xb[0].value.length;for(Vc=0;Vc<We;Vc++){var ve={};for(ta=0;ta<Ad;ta++){var Wc=xb[ta];var lc=Wc.value[Vc];-1==Wc.key.indexOf("path-")&&-1==Wc.key.indexOf("subtitle-")&&("true"===lc?lc=!0:"false"===lc&&(lc=!1),ve[Wc.key]=lc)}zd.push(ve)}}yd=null;var h=k(this),da=h.find(".vpl-player-holder"),N=h.find(".vpl-media-holder"),Oa=h.find(".vpl-player-controls"),sa=h.find(".vpl-playback-toggle"),xd=h.find(".vpl-previous-toggle"),wd=h.find(".vpl-next-toggle"),
kc=h.find(".vpl-rewind-toggle"),ic=h.find(".vpl-skip-backward-toggle"),jc=h.find(".vpl-skip-forward-toggle"),Mc=h.find(".vpl-volume-wrapper"),Vb=h.find(".vpl-volume-toggle"),pa=h.find(".vpl-volume-seekbar"),Cb=h.find(".vpl-volume-bg"),Fe=h.find(".vpl-volume-level"),Da=h.find(".vpl-seekbar"),vc=h.find(".vpl-progress-bg"),qe=h.find(".vpl-load-level"),re=h.find(".vpl-progress-level"),Hb=h.find(".vpl-vr-info"),ne=h.find(".vpl-live-note"),tb=h.find(".vpl-media-time-current").html("00:00"),Kb=h.find(".vpl-media-time-separator"),
ub=h.find(".vpl-media-time-total").html("00:00"),P=h.find(".vpl-big-play"),Uc=h.find(".vpl-share-toggle"),L=h.find(".vpl-player-loader"),Gb=h.find(".vpl-pip-toggle").hide(),ob=h.find(".vpl-cc-toggle").hide(),ib=h.find(".vpl-theater-toggle"),Eb=h.find(".vpl-unmute-toggle"),Lc=h.find(".vpl-download-toggle"),kb=h.find(".vpl-preview-seek-wrap"),Ee=h.find(".vpl-preview-seek-inner"),De=h.find(".vpl-preview-seek-time-current"),cb=h.find(".vpl-settings-toggle"),Fd=h.find(".vpl-playback-rate-menu"),Ac=h.find(".vpl-quality-menu"),
Hd=h.find(".vpl-quality-settings-menu"),Xb=h.find(".vpl-subtitle-menu"),pe=h.find(".vpl-subtitle-holder").css("display","none"),fa=h.find(".vpl-subtitle-holder-inner"),Ld=h.find(".vpl-subtitle-settings-menu"),Oc=h.find(".vpl-audio-language-menu");h.find(".vpl-audio-language-menu-holder");var oe=h.find(".vpl-audio-language-toggle").hide(),qd=h.find(".vpl-audio-language-settings-menu");Uc=h.find(".vpl-share-toggle");var La=h.find(".vpl-share-holder"),Ja=h.find(".vpl-info-holder");h.find(".vpl-info-data");
h.find(".vpl-info-inner");var hc=h.find(".vpl-info-toggle").hide(),me=h.find(".vpl-info-description"),Xa=h.find(".vpl-pwd-holder"),qc=h.find(".vpl-pwd-field"),bd=h.find(".vpl-pwd-error").text(),pc=h.find(".vpl-resume-holder"),w=this,Jb=VPLUtils.isMobile(),Wb=VPLUtils.hasLocalStorage(),U=b.autoPlay,B=b.volume,Ma=b.volume,ed=b.volume||.5,we=b.useSwipeNavigation&&"ontouchstart"in window,xe=b.rememberPlaybackPosition&&Wb,Pb=b.instanceName+b.playbackPositionKey,nb=b.instanceName+b.captionStateKey;VPLUtils.volumeCanBeSet();
var Ce=VPLUtils.hasFullscreen(),Xe=VPLUtils.isChrome();VPLUtils.isSafari();var Ye=VPLUtils.isIOS(),Ze=VPLUtils.isiPhoneIpod();VPLUtils.isAndroid();var Dd=document.pictureInPictureEnabled,Od=VPLUtils.canPlayMp4(),Nd=VPLUtils.canPlayMp3(),Md=VPLUtils.canPlayWav(),$e=VPLUtils.supportsWebGL(),Te=VPLUtils.hasDownloadSupport();w=this;var mc=k("body"),va=k(window),ka=k(document),Ed=k("html"),af="scroll.minimize"+b.instanceName,td="scroll.autoplay"+b.instanceName,rc,Be,Bd,ue,R,za,g,Bc,Zb=[],M,e,F,ha,Z=0,
Y,Qb=[],Yb=null,Za=!0,jb,dd,ud,yb,Ub,Tb,hb,Xc,qb,q,Vd,hd,H,$b,zb,Fa,ma,m,Wd,id,Ic,Ua,Ib,$d,nd,bc,ld,md,ac,ya,ae,G,Hc,Pc,Rd,aa,Yd=window.MediaSource,Td,Zd,T,Ha,ia,t,be,od,Pd,rd,vb,Rc,ja,u,ra,de,ke,dc,fc,ce,je,ec,gc,ee,le,sd,Qd,Pa=0,Lb=0,Tc=0,Sc,xa,Ga=!0,cc,Xd,Ta,db,Fb,jd,eb,V,qa,Gc,Ra,Qa=[],sb,Mb,yc,Sa,la,Qc,pb,Cc=[],wa=[],Q,se,te,oa,sc,ye=h[0].className.split(/\s+/);for(ta=0;ta<ye.length;ta++)if(-1<ye[ta].indexOf("vpl-skin-flat")){h.addClass("vpl-skin-flat");break}b.wrapperMaxWidth&&h.css("max-width",
b.wrapperMaxWidth);if("lightbox"==b.playerType){ib.remove();b.autoPlayInViewport=!1;b.minimizeOnScroll=!1;var Va=k('<div class="vpl-lightbox-wrap"><div class="vpl-lightbox"></div><div class="vpl-lightbox-close" title="'+b.lightboxCloseTooltip+'"><svg viewBox="0 0 384 512"><path d="M217.5 256l137.2-137.2c4.7-4.7 4.7-12.3 0-17l-8.5-8.5c-4.7-4.7-12.3-4.7-17 0L192 230.5 54.8 93.4c-4.7-4.7-12.3-4.7-17 0l-8.5 8.5c-4.7 4.7-4.7 12.3 0 17L166.5 256 29.4 393.2c-4.7 4.7-4.7 12.3 0 17l8.5 8.5c4.7 4.7 12.3 4.7 17 0L192 281.5l137.2 137.2c4.7 4.7 12.3 4.7 17 0l8.5-8.5c4.7-4.7 4.7-12.3 0-17L217.5 256z"></path></svg></div></div>').appendTo(mc),
ze=Va.find(".vpl-lightbox").append(h.addClass("vpl-lightbox-center")),bf=Va.find(".vpl-lightbox-close").on("click",function(){Va.one("transitionend",function(){Va.css("display","none");Xc=!1}).css("opacity",0);e&&wb()});b.lightboxBgColor&&ze.css("backgroundColor",b.lightboxBgColor);b.lightboxCloseBtnColor&&bf.find("svg").css("color",b.lightboxCloseBtnColor);if(b.clickOnBackgroundClosesLightbox)ze.on("click",function(a){a.target==this&&(Va.one("transitionend",function(){Va.css("display","none");Xc=
!1}).css("opacity",0),e&&wb())})}N.on("click",function(){if(!x||b.displayPosterOnMobile||"image"==e||g.is360)return!1;Za?R||w.togglePlayback():w.togglePlayback()});"undefined"===typeof window.vpl_mediaArr&&(window.vpl_mediaArr=[]);vpl_mediaArr.push({inst:w,id:b.instanceName});$e||(Ga=!1,Hb.remove(),Hb=null,console.log("This browsers does not support Hardware Acceleration required for 360 playback!"),Xe&&console.log("Turn Hardware Acceleration On Within Chrome Browser to enable 360 video!"));b.elementsVisibilityArr&&
b.elementsVisibilityArr.length&&VPLUtils.keysrt(b.elementsVisibilityArr,"width");Ze&&Gb.remove();b.theaterElement&&!VPLUtils.isEmpty(b.theaterElement)&&b.theaterElementClass&&!VPLUtils.isEmpty(b.theaterElementClass)||delete b.theaterElement;b.displayPosterOnMobile&&(U=!1,b.autoPlayInViewport=!1);if(b.autoPlayInViewport||b.autoPlayAfterFirst)U=!1;if(U||b.autoPlayInViewport)if(B=0,b.autoPlayInViewport&&0!=Ma)ka.on("mousedown.apvpl, keydown.apvpl",function(){ka.off("mousedown.apvpl, keydown.apvpl");
oa||(oa=!0,!sb&&m&&(m.volume=Ma,m.muted=!1))});xe&&(window.attachEvent||window.addEventListener)(Ye?"pagehide":"beforeunload",function(a){window.event&&(window.event.cancelBubble=!0);if(!x||!e)return!1;a={volume:B,activeItem:Z,resumeTime:parseInt(w.getCurrentTime(),10)};localStorage.setItem(Pb,JSON.stringify(a))});"default"==b.youtubePlayerType?b.blockYoutubeEvents=!1:we&&(b.blockYoutubeEvents=!0);b.caption_breakPointArr&&b.caption_breakPointArr.length&&VPLUtils.keysrt(b.caption_breakPointArr,"width");
if(!sc&&"undefined"===typeof VPLShareManager){var na=document.createElement("script");na.type="text/javascript";na.src=VPLUtils.qualifyURL(b.sourcePath+b.share_js);na.onload=na.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(sc=new VPLShareManager(b))};na.onerror=function(){alert("Error loading "+this.src)};var nc=document.getElementsByTagName("script")[0];nc.parentNode.insertBefore(na,nc)}if(we)if("undefined"===typeof k.fn.swipe){na=document.createElement("script");na.type=
"text/javascript";var cf=VPLUtils.relativePath(b.jquery_touchSwipe)?b.jquery_touchSwipe:VPLUtils.qualifyURL(b.sourcePath+b.jquery_touchSwipe);na.src=cf;na.onload=na.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||n()};na.onerror=function(){alert("Error loading "+this.src)};nc=document.getElementsByTagName("script")[0];nc.parentNode.insertBefore(na,nc)}else n();if(b.useKeyboardNavigationForPlayback)ka.off("keyup.vpl").on("keyup.vpl",function(a){a.stopImmediatePropagation();
a.preventDefault();if(!x)return!1;var c=a.keyCode;k(a.target);if(37==c)w.seekBackward();else if(39==c)w.seekForward();else if(70==c)v();else if(84==c){if("fullscreen"==Na)return!1;ib.click()}else 32==c?w.togglePlayback():77==c?W():67==c?w.toggleSubtitle():107==c?Q&&(a=parseInt(fa.css("fontSize"),10)+1,fa.css("fontSize",a+"px")):109==c&&Q&&(a=parseInt(fa.css("fontSize"),10)-1,10>a&&(a=10),fa.css("fontSize",a+"px"))});var Ae=[sa,P,hc,Uc,wd,xd,kc,ic,jc,Gb,ib,ob,h.find(".vpl-pwd-confirm"),h.find(".vpl-info-close"),
h.find(".vpl-share-item"),h.find(".vpl-share-close"),h.find(".vpl-resume-continue"),h.find(".vpl-resume-restart")];Ad=Ae.length;for(ta=0;ta<Ad;ta++)k(Ae[ta]).on("click",z);var Na="normal",cd;ka.on("fullscreenchange mozfullscreenchange MSFullscreenChange webkitfullscreenchange",function(a){cd==b.instanceName&&("fullscreen"==Na?r():I())});var Ya=h.find(".vpl-fullscreen-toggle").on("click",function(a){v()});Ya.find(".vpl-btn-normal").hide();Ya.find(".vpl-btn-fullscreen").show();if("disabled"==b.rightClickContextMenu)h.on("contextmenu",
function(){return!1});else if("custom"==b.rightClickContextMenu){var Rb=function(){mc.off("click.apcc",Rb);fb.hide()};var fb=h.find(".vpl-context-menu").on("contextmenu",function(a){return!1});fb.find(".vpl-context-copy-video-url").on("click",function(a){a=window.location.href+w.getCurrentMediaUrl();var c=document.createElement("input");c.setAttribute("id","vpl-copy-url");document.body.appendChild(c);document.getElementById("vpl-copy-url").value=a;c.select();try{document.execCommand("copy")}catch(d){}document.body.removeChild(c)});
var tc=fb.find(".vpl-context-fullscreen").on("click",function(a){v()});da.on("contextmenu",function(a){if(b.displayPosterOnMobile||k(a.target).hasClass("vpl-volume-level")||k(a.target).hasClass("vpl-volume-bg")||k(a.target).hasClass("vpl-progress-level")||k(a.target).hasClass("vpl-progress-bg")||k(a.target).hasClass("vpl-load-level")||"block"==Xa.css("display"))return!1;a.preventDefault();a.stopPropagation();var c=da[0].getBoundingClientRect(),d=fb.outerWidth(!0),f=fb.outerHeight(!0),l=parseInt(a.pageX-
va.scrollLeft()-c.left,10);a=parseInt(a.pageY-va.scrollTop()-c.top,10);l>da.width()-d&&(l-=d);a>da.height()-f&&(a-=f);fb.css({left:l+"px",top:a+"px"}).show();mc.one("click.apcc",Rb)}).on("mouseleave",Rb);mc.on("mouseleave.vpl",Rb);ka.on("contextmenu.vpl",Rb).keyup(function(a){27==a.keyCode&&Rb()})}var J=h.find(".vpl-tooltip");if(!Jb)h.find("[data-tooltip]").on("mouseenter",function(a){a=k(this);var c=a.attr("data-tooltip");if(!VPLUtils.isEmpty(c)){var d=h[0].getBoundingClientRect(),f=a[0].getBoundingClientRect();
J.text(c);if(void 0!=a.attr("data-tooltip-position"))if("left"==a.attr("data-tooltip-position"))var l=parseInt(f.top-d.top-J.outerHeight()/2+a.outerHeight()/2),p=parseInt(f.left-d.left-J.outerWidth()-3);else"bottom"==a.attr("data-tooltip-position")&&(l=parseInt(f.top-d.top+a.outerHeight()),p=parseInt(f.left-d.left-J.outerWidth()/2+a.outerWidth()/2));else l=parseInt(f.top-d.top-J.outerHeight()),p=parseInt(f.left-d.left-J.outerWidth()/2+a.outerWidth()/2);0>p?p=0:p+J.outerWidth()>h.width()&&(p=h.width()-
J.outerWidth());0>l+d.top&&(l=parseInt(f.top-d.top+J.outerHeight()+15));J.css({left:p+"px",top:l+"px"}).show()}}).on("mouseleave",function(a){J.hide()});var uc,Ca;if("ontouchstart"in window){var Yc="touchstart.ap mousedown.ap";var Ba="touchmove.ap mousemove.ap";var Bb="touchend.ap mouseup.ap"}else window.PointerEvent?(Yc="pointerdown.ap",Ba="pointermove.ap",Bb="pointerup.ap"):(Yc="mousedown.ap",Ba="mousemove.ap",Bb="mouseup.ap");Da.on(Yc,function(a){if(x){if(b.disableVideoSkip)return!1;ua(a);return!1}});
if(!Jb){var Zc=function(){R&&(Da.off(Ba,gb).off("mouseout",Zc),ka.off("mouseout",Zc),kb.hide(),J.hide())};Da.on("mouseover",function(){R&&(Da.on(Ba,gb).on("mouseout",Zc),ka.on("mouseout",Zc))})}var xc,lb=pa.hasClass("vpl-volume-horizontal")?!0:!1;lb?pa.width():pa.height();var Db=lb?Cb.width():Cb.height();0>B?B=0:1<B&&(B=1);0!=B&&(ed=B);if(Jb)pa.remove();else pa.on(Yc,function(a){A(a);return!1});Vb.on("click",function(a){W()});if(!Jb){var $c=function(){pa.off(Ba,Sb).off("mouseout",$c);ka.off("mouseout",
$c);J.hide()};pa.on("mouseover",function(){pa.on(Ba,Sb).on("mouseout",$c);ka.on("mouseout",$c)})}var Nc=h.find(".vpl-settings-wrap"),C=h.find(".vpl-settings-holder");h.find(".vpl-settings-holder-inner");var Ka=h.find(".vpl-settings-home");cb.on("click",function(){C.hasClass("vpl-holder-visible")?C.one("transitionend",function(){C.css({display:"none",width:"auto",height:"auto"});C.find(".vpl-settings-menu").css("display","none");Ka.css("display","block");C.css("maxHeight","none").removeClass("vpl-settings-holder-scrollable")}).removeClass("vpl-holder-visible"):
(Ja.hasClass("vpl-holder-visible")&&E(),La.hasClass("vpl-holder-visible")&&y(),C.css("display","block"),setTimeout(function(){C.addClass("vpl-holder-visible")},20))});Ka.find(".vpl-menu-item").on("click",function(){var a=k(this).attr("data-target"),c=C.width(),d=C.height();Ka.css("display","none");C.find(".vpl-settings-menu").css("display","none");C.css("maxHeight","none").removeClass("vpl-settings-holder-scrollable");C.css({width:"auto",height:"auto"});a=C.find("."+a).css("display","block");var f=
a.width(),l=a.height();l>da.height()-60&&C.css("maxHeight",da.height()-60).addClass("vpl-settings-holder-scrollable");C.css({width:c+"px",height:d+"px"});setTimeout(function(){C.css({width:f+"px",height:l+"px"})},20)});C.find(".vpl-menu-header").on("click",function(){bb()});Fd.find(".vpl-menu-item").each(function(){k(this).on("click",Ge)});this.toggleSubtitle=function(){if(!x||!e)return!1;if(g&&g.subtitles&&Wb&&localStorage.getItem(nb)){var a=JSON.parse(localStorage.getItem(nb));(a=a.active?b.subtitleOffText:
a.value)&&w.setSubtitle(a)}};this.setSubtitle=function(a){if(!x||!e)return!1;fa.empty();pe.show();if(a==b.subtitleOffText||""==a)""==a&&(a=b.subtitleOffText),pb=!1,Q=null,la&&la.removeClass("vpl-menu-active"),la=Xb.find(".vpl-menu-item[data-label='"+b.subtitleOffText+"']").addClass("vpl-menu-active"),ob.addClass("vpl-btn-disabled");else{if(Cc[a])pb=!1,Q=null,la&&la.removeClass("vpl-menu-active"),la=Xb.find(".vpl-menu-item[data-label='"+a+"']").addClass("vpl-menu-active"),wa=Cc[a],pb=!0,Yb=null,wc(!0);
else{var c,d=g.subtitles.length;for(c=0;c<d;c++){var f=g.subtitles[c];if(f.label==a){pb=!1;Q=null;la&&la.removeClass("vpl-menu-active");la=Xb.find(".vpl-menu-item[data-label='"+a+"']").addClass("vpl-menu-active");"hls"==ha?getSubtitleUrl(f):"dash"!=ha&&Ie(f);break}}}ob.removeClass("vpl-btn-disabled")}d=g.subtitles.length;for(c=0;c<d;c++)f=g.subtitles[c],delete f["default"],f.value==a&&(f["default"]=!0);C.find(".vpl-subtitle-menu-value").text(a);Wb&&(c=localStorage.getItem(nb)?JSON.parse(localStorage.getItem(nb)):
{},a==b.subtitleOffText?c.active=!1:(c.active=!0,c.value=a),localStorage.setItem(nb,JSON.stringify(c)))};var S=new VPLPlaylistManager({randomPlay:b.randomPlay,loopingOn:b.loopingOn});k(S).on("VPLPlaylistManager.COUNTER_READY",function(){$b=!1;e&&wb();Z=S.getCounter();g=Qb[Z];console.log(g);e=g.type;k(w).trigger("mediaRequest",{instance:w,instanceName:b.instanceName,counter:Z});Bc=!1;"audio"==e||"video"==e?(gd(),b.hideQualityMenuOnSingleQuality&&1==Zb.length||Zb.length&&zc(Zb,g.quality)):F=g.path;
-1!=F.indexOf("ebsfm:")&&(F=atob(F.substr(6)));"hls"==e?(e="video",ha="hls"):"dash"==e&&(e="video",ha="dash");zb=!1;b.skipPoster||("audio"==e?g.poster&&(zb=!0):("video"==e||"youtube"==e||"vimeo"==e)&&g.poster&&!b.autoPlayInViewport&&(zb=!0));g.pwd?(Xa.css("display","block"),setTimeout(function(){Xa.addClass("vpl-holder-visible")},20)):zb?Ab():O();"lightbox"!=b.playerType||Xc||(Va.css("display","block"),Aa(),1!=Va.css("opacity")&&setTimeout(function(){clearTimeout(this);Va.css("opacity",1);Xc=!0},
50))});window.onYouTubeIframeAPIReady=function(){};this.destroyInstance=function(){wb();S&&(k(S).off(),S=null);G&&(G.off(),G.destroy(),G=null);aa&&(aa.off(),dashjs.MediaPlayer().reset(),aa=null);ka.off(".vpl");mc.off(".vpl")};va.on("onorientationchange"in window?"orientationchange":"resize",function(){if(!x)return!1;Bd&&clearTimeout(Bd);Bd=setTimeout(Aa,250)});this.playMedia=function(){if(!x||Y)return!1;if("audio"==e){if(q){var a=q.play();void 0!==a&&a.then(function(){})["catch"](function(c){P.show();
L.hide()})}}else"video"==e?H&&!R?(b.showPosterOnPause?T.hide():(T.hide().empty(),H=null),P.hide(),O()):m&&(a=m.play(),void 0!==a&&a.then(function(){})["catch"](function(c){P.show();L.hide()})):"youtube"==e?H&&!R?(b.showPosterOnPause?T.hide():(T.hide().empty(),H=null),O()):t&&t.playVideo():"vimeo"==e&&(H&&!R?(b.showPosterOnPause?T.hide():(T.hide().empty(),H=null),O()):u&&u.playVideo());Y=!0};this.pauseMedia=function(){if(!x||!Y)return!1;"audio"==e?q&&q.pause():"video"==e?m&&m.pause():"youtube"==e?
t.pauseVideo():"vimeo"==e&&u.pause();Y=!1};this.togglePlayback=function(){if(!x||!g)return!1;if(!b.displayPosterOnMobile||!g.poster)if(va.off(td),"audio"==e)if(H&&!R)P.hide(),L.show(),O();else{if(q)if(q.paused){var a=q.play();void 0!==a&&a.then(function(){})["catch"](function(c){P.show();L.hide()})}else q.pause()}else"video"==e?H&&!R?(b.showPosterOnPause?T.hide():(T.hide().empty(),H=null),P.hide(),L.show(),O()):m&&(m.paused?(a=m.play(),void 0!==a&&a.then(function(){})["catch"](function(c){P.show();
L.hide()})):m.pause()):"youtube"==e?H&&!R?(b.showPosterOnPause?T.hide():(T.hide().empty(),H=null),P.hide(),O()):t&&(a=t.getPlayerState(),1==a?t.pauseVideo():2==a?t.playVideo():(-1==a||5==a||0==a)&&t.playVideo()):"vimeo"==e&&(H&&!R?(b.showPosterOnPause?T.hide():(T.hide().empty(),H=null),P.hide(),O()):u&&u.getPaused().then(function(c){c?u.play():u.pause()}))};this.nextMedia=function(){if(!x)return!1;oc()};this.previousMedia=function(){if(!x)return!1;ad()};this.setVolume=function(a){if(!x)return!1;0>
a?a=0:1<a&&(a=1);ca(a)};this.toggleMute=function(){if(!x)return!1;W()};this.seek=function(a){if(!x)return!1;"audio"==e?q&&(q.currentTime=a):"video"==e?m&&(m.currentTime=a):"youtube"==e?t&&t.seekTo(a):"vimeo"==e&&u&&u.setCurrentTime(a)};this.seekBackward=function(a){if(!x||!e)return!1;if("audio"==e){if(q)try{q.currentTime=Math.max(q.currentTime-(a||b.seekTime),0)}catch(d){console.log(d)}}else if("video"==e){if(m)try{m.currentTime=Math.max(m.currentTime-(a||b.seekTime),0)}catch(d){console.log(d)}}else if("youtube"==
e){var c=Math.max(t.getCurrentTime()-(a||b.seekTime),0);t.seekTo(c)}else"vimeo"==e&&u.getCurrentTime().then(function(d){u.setCurrentTime(Math.max(d-(a||b.seekTime),0))})};this.seekForward=function(a){if(!x||!e)return!1;if("audio"==e){if(q)try{q.currentTime=Math.min(q.currentTime+(a||b.seekTime),q.duration)}catch(d){console.log(d)}}else if("video"==e){if(m)try{m.currentTime=Math.min(m.currentTime+(a||b.seekTime),m.duration)}catch(d){console.log(d)}}else if("youtube"==e){var c=Math.min(t.getCurrentTime()+
(a||b.seekTime),t.getDuration());t.seekTo(c)}else"vimeo"==e&&(0!=Pa&&0!=Lb?(c=Math.min(Lb+(a||b.seekTime),Pa),u.setCurrentTime(c)):u.getCurrentTime().then(function(d){u.getDuration().then(function(f){u.setCurrentTime(Math.min(d+(a||b.seekTime),f))})}))};this.getCurrentMediaUrl=function(){if(!x)return!1;if(!e)return"";var a=-1==window.location.href.indexOf("?")?"?":"&";var c=void 0!=g.mediaId?"vpl-media-id="+g.mediaId:"vpl-active-item="+Z,d=R&&"image"!=e?"&vpl-playback-position-time="+Math.floor(w.getCurrentTime()):
"";return a+c+d};this.getCurrentTime=function(){if(!x)return!1;var a="0";if("audio"==e)q&&(a=q.currentTime);else if("video"==e)m&&(a=m.currentTime);else if("youtube"==e)t&&(a=t.getCurrentTime());else if("vimeo"==e)return Lb;return a};this.getDuration=function(){if(!x)return!1;if("audio"==e){if(q)var a=q.duration}else if("video"==e)m&&(a=m.duration);else if("youtube"==e)t&&(a=t.getDuration());else if("vimeo"==e)return Pa;return a};this.getLoadProgress=function(){if(!x||!e)return!1;var a;if("audio"==
e){if("undefined"!==typeof q.buffered&&0!=q.buffered.length){try{var c=q.buffered.end(q.buffered.length-1)}catch(d){}isNaN(c)||(a=c/Math.floor(q.duration))}}else if("video"==e){if("undefined"!==typeof m.buffered&&0!=m.buffered.length){try{c=m.buffered.end(m.buffered.length-1)}catch(d){}isNaN(c)||(a=c/Math.floor(m.duration))}}else"youtube"==e?a=t.getVideoLoadedFraction():"vimeo"==e&&(a=Tc);return a};this.setPlaybackRate=function(a){if(!x)return!1;g.playbackRate=a;"audio"==e?q&&(q.playbackRate=Number(a)):
"video"==e?m&&(m.playbackRate=Number(a)):"youtube"==e?t&&t.setPlaybackRate(Number(a)):"vimeo"==e&&u&&u.setPlaybackRate(a).then(function(c){})["catch"](function(c){})};this.setRandom=function(a){if(!x)return!1;"undefined"!==typeof S&&S.setRandom(a)};this.setLooping=function(a){if(!x)return!1;"undefined"!==typeof S&&S.setLooping(a)};this.cleanMedia=function(){if(!x)return!1;wb()};this.loadMedia=function(a,c){if(!x||"undefined"===typeof S)return!1;if("counter"==a)0>c?c=0:c>Wa-1&&(c=Wa-1),S.processPlaylistRequest(c);
else if("id"==a){var d;for(d=0;d<Wa;d++)if(c==Qb[d].mediaId){Z=d;break}S.setCounter(Z,!1)}};this.addMedia=function(a){if(!x||"undefined"===typeof S)return!1;Qb.push(a);Wa=Qb.length;S.setPlaylistItems(Wa);S.setCounter(Wa-1,!1)};this.getMediaPlaying=function(){return x?Y:!1};this.setPlaybackQuality=function(a){if(!x||!e)return!1;if("audio"==e||"video"==e){if("hls"!=ha||"dash"!=ha)g.quality=a,fd(a),Bc=!0,Id(),gd(),O()}else"youtube"==e&&t.setPlaybackQuality(a)};this.toggleInfo=function(){if(!x||!e)return!1;
E()};this.toggleShare=function(){if(!x||!e)return!1;y()};this.toggleFullscreen=function(){if(!x)return!1;v()};this.destroyMedia=function(){if(!x)return!1;x&&e&&(wb(),S.reSetCounter(),Oa.removeClass("vpl-player-controls-visible"),"fullscreen"==Na&&(document.body.style.cursor="none"),Za=!0)};this.resize=function(){if(!x)return!1;Aa()};this.resume=function(){if(!x)return!1;-1!=Z&&S.setCounter(Z,!1)};var x=!0;if(b.minimizeOnScroll){var Ve=VPLUtils.getElementOffsetTop(h[0]);va.on(af,function(){Mb||(Mb=
!0,b.minimizeOnScrollOnlyIfPlaying?Y&&vd():vd(),setTimeout(function(){Mb=!1},100))})}k(w).trigger("setupDone",{instance:w,instanceName:b.instanceName});h.on("mousemove mousedown keypress DOMMouseScroll mousewheel touchmove MSPointerMove",ea);Aa();h.css("opacity",1);sa.find(".vpl-btn-play").show();zd.length&&(b.media=zd);Qb=b.media;var Wa=Qb.length;S.setPlaylistItems(Wa);if(Pb)if(!xe)localStorage.removeItem(Pb);else if(Wb&&localStorage.getItem(Pb)){var Cd=JSON.parse(localStorage.getItem(Pb));b.playbackPositionTime=
Cd.resumeTime;B=Cd.volume;b.activeItem=Cd.activeItem;localStorage.removeItem(Pb)}"undefined"!=typeof b.activeItem&&(Z=b.activeItem);-1!=Z&&(Z>Wa-1&&(Z=Wa-1),S.setCounter(Z,!1));return this}})(jQuery);
